<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://doupo.github.io</id>
    <title>è±†</title>
    <updated>2021-02-27T13:59:50.003Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://doupo.github.io"/>
    <link rel="self" href="https://doupo.github.io/atom.xml"/>
    <subtitle>For what it is worth ,it is never too late.</subtitle>
    <logo>https://doupo.github.io/images/avatar.png</logo>
    <icon>https://doupo.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, è±†</rights>
    <entry>
        <title type="html"><![CDATA[vueé¡¹ç›®é…ç½®ä½¿ç”¨svg]]></title>
        <id>https://doupo.github.io/post/vue-xiang-mu-pei-zhi-shi-yong-svg/</id>
        <link href="https://doupo.github.io/post/vue-xiang-mu-pei-zhi-shi-yong-svg/">
        </link>
        <updated>2021-02-26T01:28:12.000Z</updated>
        <content type="html"><![CDATA[<h3 id="svg-ä¼˜åŠ¿">svg ä¼˜åŠ¿</h3>
<ul>
<li>ä½“ç§¯å°</li>
<li>çŸ¢é‡å›¾å½¢,ä¸å—åƒç´ å½±å“</li>
<li>æ–¹ä¾¿çš„ä¿®æ”¹å¤§å°é¢œè‰²</li>
</ul>
<p><a href="https://www.iconfont.cn/">iconfont</a></p>
<h3 id="åœ¨vueé¡¹ç›®ä¸­ä½¿ç”¨">åœ¨vueé¡¹ç›®ä¸­ä½¿ç”¨</h3>
<h4 id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–</h4>
<p><code>npm i svg-sprite-loader -D</code></p>
<p>é…ç½®vue.config.js</p>
<pre><code>module.exports = {
    ...,
    chainWebpack(config) {
        ...,
    config.module
      .rule('svg')
      .exclude.add(resolve('src/icons'))
      .end()
    config.module
      .rule('icons')
      .test(/\.svg$/)
      .include.add(resolve('src/icons'))
      .end()
      .use('svg-sprite-loader')
      .loader('svg-sprite-loader')
      .options({
        symbolId: 'icon-[name]'
      })
      .end()
    }
}
</code></pre>
<h4 id="å»ºç«‹æ–‡ä»¶">å»ºç«‹æ–‡ä»¶</h4>
<p>åœ¨srcç›®å½•ä¸‹åˆ›å»º<strong>icons/</strong><br>
<img src="https://doupo.github.io/post-images/1614304247291.png" alt="" loading="lazy"></p>
<ul>
<li>svgæ–‡ä»¶å­˜æ”¾åœ¨svgæ–‡ä»¶å¤¹</li>
</ul>
<p>index.js</p>
<pre><code>import Vue from 'vue'
import SvgIcon from '@/components/SvgIcon'// svg component

Vue.component('svg-icon', SvgIcon)

const req = require.context('./svg', false, /\.svg$/)
const requireAll = requireContext =&gt; requireContext.keys().map(requireContext)
requireAll(req)
</code></pre>
<h3 id="åˆ›å»ºsvgiconç»„ä»¶">åˆ›å»ºSvgIconç»„ä»¶</h3>
<p>åœ¨componentsç›®å½•ä¸‹åˆ›å»º<strong>SvgIcon/index.vue</strong></p>
<pre><code>&lt;template&gt;
  &lt;div v-if=&quot;isExternal&quot; :style=&quot;styleExternalIcon&quot; class=&quot;svg-external-icon svg-icon&quot; v-on=&quot;$listeners&quot; /&gt;
  &lt;svg v-else :class=&quot;svgClass&quot; aria-hidden=&quot;true&quot; v-on=&quot;$listeners&quot;&gt;
    &lt;use :xlink:href=&quot;iconName&quot; /&gt;
  &lt;/svg&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'SvgIcon',
  props: {
    iconClass: {
      type: String,
      required: true
    },
    className: {
      type: String,
      default: ''
    }
  },
  computed: {
    iconName() {
      return `#icon-${this.iconClass}`
    },
    svgClass() {
      if (this.className) {
        return 'svg-icon ' + this.className
      } else {
        return 'svg-icon'
      }
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.svg-icon {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}
&lt;/style&gt;

</code></pre>
<h3 id="ä½¿ç”¨">ä½¿ç”¨</h3>
<p>é¦–å…ˆåœ¨main.jså¼•å…¥ <code>import './icons'</code><br>
åœ¨é¡µé¢ä¸­ä½¿ç”¨<br>
<code>&lt;svg-icon class-name=&quot;search-icon&quot; icon-class=&quot;search&quot; @click.stop=&quot;click&quot; /&gt;</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è®¡ç®—æœºç½‘ç»œ-æ›´æ–°ä¸­]]></title>
        <id>https://doupo.github.io/post/ji-suan-ji-wang-luo/</id>
        <link href="https://doupo.github.io/post/ji-suan-ji-wang-luo/">
        </link>
        <updated>2021-02-25T08:10:24.000Z</updated>
        <content type="html"><![CDATA[<h3 id="ä¸‹æ–¹é“¾æ¥è®¿é—®">ä¸‹æ–¹é“¾æ¥è®¿é—®</h3>
<blockquote>
<p>å—é™äºç¯‡å¹…ï¼Œè¯¥ç³»åˆ—ä½¿ç”¨gitbookæ„å»ºå‘å¸ƒ</p>
</blockquote>
<p><a href="https://tudou-website-1256033844.cos-website.ap-shanghai.myqcloud.com/net/">æ›´æ–°-ç‚¹å‡»è®¿é—®</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[npmæ¨¡å—å®‰è£…æœºåˆ¶]]></title>
        <id>https://doupo.github.io/post/npm-mo-kuai-an-zhuang-ji-zhi/</id>
        <link href="https://doupo.github.io/post/npm-mo-kuai-an-zhuang-ji-zhi/">
        </link>
        <updated>2021-02-25T07:36:51.000Z</updated>
        <content type="html"><![CDATA[<h3 id="nmp-i-æ‰§è¡Œ">nmp i æ‰§è¡Œ</h3>
<p>npm install æ‰§è¡Œä¹‹åï¼Œä¼šæ£€æŸ¥é¡¹ç›®ä¸­æ˜¯å¦æœ‰ package-lock.json æ–‡ä»¶ã€‚</p>
<p>å¦‚æœæœ‰ï¼Œä½¿ç”¨ package-lock.json ä¸­çš„ä¿¡æ¯ï¼Œä»ç¼“å­˜æˆ–ç½‘ç»œèµ„æºä¸­åŠ è½½ä¾èµ–ï¼›<br>
å¦‚æœæ²¡æœ‰ï¼Œ</p>
<p>å¦‚æœå£°æ˜çš„åŒ…ä¾èµ–ç‰ˆæœ¬è§„èŒƒä¸ä¸€è‡´ï¼ŒæŒ‰ç…§ npm ç‰ˆæœ¬è¿›è¡Œå¤„ç†ï¼ˆä¸åŒ npm ç‰ˆæœ¬å¤„ç†ä¼šæœ‰ä¸åŒï¼‰ã€‚</p>
<p>å¦‚æœæ²¡æœ‰ï¼Œåˆ™æ ¹æ® package.json é€’å½’æ„å»ºä¾èµ–æ ‘ã€‚ç„¶åæŒ‰ç…§æ„å»ºå¥½çš„ä¾èµ–æ ‘ä¸‹è½½å®Œæ•´çš„ä¾èµ–èµ„æºï¼Œæœ€åç”Ÿæˆ package-lock.json</p>
<h3 id="npm-ç¼“å­˜æœºåˆ¶">npm ç¼“å­˜æœºåˆ¶</h3>
<p>å®‰è£…ä¹‹å‰ï¼Œä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ç›¸å…³èµ„æºç¼“å­˜ï¼š</p>
<p>å­˜åœ¨ï¼Œåˆ™å°†ç¼“å­˜å†…å®¹è§£å‹åˆ° node_modules ä¸­ï¼›</p>
<p>å¦åˆ™å°±å…ˆä» npm è¿œç¨‹ä»“åº“ä¸‹è½½åŒ…ï¼Œæ ¡éªŒåŒ…çš„å®Œæ•´æ€§ï¼Œå¹¶æ·»åŠ åˆ°ç¼“å­˜ï¼ŒåŒæ—¶è§£å‹åˆ° node_modulesã€‚</p>
<p><code>npm config get cache</code></p>
<p>å¯ä»¥æŸ¥çœ‹ç¼“å­˜çš„ç›®å½•</p>
<h3 id="npm-install-s-d-g">npm install -S -D -g</h3>
<p>-D å†™å…¥dependencies<br>
-S å†™å…¥devDependencies</p>
<blockquote>
<p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼šå¹¶ä¸æ˜¯åªæœ‰åœ¨ dependencies ä¸­çš„æ¨¡å—æ‰ä¼šæ‰“åŒ…ï¼Œè€ŒdevDependencies ä¸­çš„ä¾èµ–ä¸ä¼šè¢«æ‰“åŒ…ã€‚å®é™…ä¸Šï¼Œæ˜¯å¦è¢«æ‰“åŒ…ï¼Œå®Œå…¨å–å†³äºé¡¹ç›®é‡Œæ˜¯å¦è¢«å¼•å…¥äº†è¯¥æ¨¡å—ã€‚dependencies å’Œ devDependencies åœ¨ä¸šåŠ¡ä¸­æ›´å¤šçš„åªæ˜¯ä¸€ä¸ªè§„èŒƒä½œç”¨</p>
</blockquote>
<p>-g  å…¨å±€å®‰è£…</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[HTML DOM ï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰]]></title>
        <id>https://doupo.github.io/post/html-dom-wen-dang-dui-xiang-mo-xing/</id>
        <link href="https://doupo.github.io/post/html-dom-wen-dang-dui-xiang-mo-xing/">
        </link>
        <updated>2021-02-23T01:55:09.000Z</updated>
        <content type="html"><![CDATA[<h3 id="1è·å–èŠ‚ç‚¹">1.è·å–èŠ‚ç‚¹</h3>
<h4 id="document">document</h4>
<blockquote>
<ul>
<li>getElementById('ID')</li>
<li>getElementsByName(name)   **æ³¨ï¼š**é€šè¿‡å…ƒç´ nameå±æ€§è·å–èŠ‚ç‚¹    **è¿”å›å€¼ï¼š**æ•°ç»„</li>
<li>getElementsByTagName(&quot;å…ƒç´ æ ‡ç­¾&quot;);     **æ³¨ï¼š**IE9ä»¥ä¸‹ ä¸æ”¯æŒ   **è¿”å›å€¼ï¼š**æ•°ç»„</li>
</ul>
</blockquote>
<h4 id="èŠ‚ç‚¹">èŠ‚ç‚¹</h4>
<p><strong>èŠ‚ç‚¹å¯ä»¥åˆ†ä¸ºå…ƒç´ èŠ‚ç‚¹ï¼Œå±æ€§èŠ‚ç‚¹å’Œæ–‡æœ¬èŠ‚ç‚¹</strong><br>
<strong>å¦‚æœè·å–çš„èŠ‚ç‚¹ä¸ºå…ƒç´ èŠ‚ç‚¹ï¼šå¯ä½¿ç”¨<code>innerHTML</code>ï¼Œå¦‚æœæ˜¯æ–‡æœ¬èŠ‚ç‚¹å¯ä½¿ç”¨<code>nodeValue</code></strong><br>
| èŠ‚ç‚¹ç±»å‹|    nodeName <strong>åªè¯»</strong>| nodeType <strong>åªè¯»</strong>|nodeValue <strong>å¯è¯»å†™</strong>|<br>
| :-------- | :--------ğŸ˜ :--: |<br>
|å…ƒç´ |  å…ƒç´ èŠ‚ç‚¹|  1   |null|<br>
| å±æ€§|å±æ€§èŠ‚ç‚¹  |  2  |å±æ€§å€¼  |<br>
| æ–‡æœ¬|<strong>#Text</strong>|  3   |æ–‡æœ¬å†…å®¹ï¼ˆä¸åŒ…å«htmlæ ‡ç­¾ï¼‰  |</p>
<h5 id="childnodes">childNodes</h5>
<blockquote>
<p>childNodes è·å–å½“å‰å…ƒç´ çš„æ‰€æœ‰å­èŠ‚ç‚¹  <strong>è¿”å›å€¼ä¸ºä¸€ä¸ªæ•°ç»„</strong> <strong>æ³¨ï¼šè¿™äº›å­—èŠ‚ç‚¹åŒ…æ‹¬å…ƒç´ å­—èŠ‚ç‚¹å’Œæ–‡æœ¬å­èŠ‚ç‚¹</strong></p>
<ul>
<li>aï¼šæ–‡æœ¬å­èŠ‚ç‚¹æ— æ³•ä½¿ç”¨innerHTMLè¿™ä¸ªå±æ€§ï¼Œå¯ä»¥ä½¿ç”¨nodeValueè¿›è¡Œèµ‹å€¼</li>
<li>bï¼š <strong>IE9ä»¥ä¸‹ä¸åŒ…å«ç©ºèŠ‚ç‚¹</strong></li>
<li>cï¼šéW3Cæ ‡å‡†çš„childrenå±æ€§ <strong>åªæœ‰æ•ˆå­èŠ‚ç‚¹ï¼Œå³å¿½ç•¥ç©ºæ–‡æœ¬èŠ‚ç‚¹</strong></li>
</ul>
</blockquote>
<pre><code>    &lt;div id=&quot;a&quot;&gt;
        &lt;p&gt;1&lt;/p&gt;
        &lt;p&gt;2&lt;/p&gt;
        &lt;p&gt;3&lt;/p&gt;
    &lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">    &lt;script&gt;
        var oa = document.getElementById('a');
       var op=oa.childNodes;

       op[0].nodeValue='nodeValueæµ‹è¯•'  //ç¬¬ä¸€ä½ä¸ºç©ºæ–‡æœ¬èŠ‚ç‚¹
       op[1].innerHTML='å…ƒç´ èŠ‚ç‚¹æµ‹è¯•'  //ç¬¬äºŒä½ä¸ºç©ºæ–‡æœ¬èŠ‚ç‚¹

       alert(op.length)  //7  3ä¸ªpå…ƒç´ èŠ‚ç‚¹ï¼Œ4ä¸ªç©ºçš„æ–‡æœ¬èŠ‚ç‚¹

    &lt;/script&gt;
</code></pre>
<h5 id="childnodesç§»é™¤ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹">childNodesç§»é™¤ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹</h5>
<pre><code>        var oa = document.getElementById('a');
        var op2=oa.childNodes;
        alert(op2.length) //7 åŒ…å«ç©ºæ–‡æœ¬èŠ‚ç‚¹
        
       var op=removeSpace(oa.childNodes);
       alert(op.length) //3 ç§»é™¤äº†ç©ºçš„æ–‡æœ¬èŠ‚ç‚¹
</code></pre>
<pre><code class="language-javascript">function removeSpace(node) {  
       for(var i=0;i&lt;node.length;i++){  
      if(node[i].nodeType===3&amp;&amp;/^\s+$/.test(node[i].nodeValue)){  
          node[i].parentNode.removeChild(node[i]);  
      }   
       }  
       return node;  
    }
</code></pre>
<p>=================</p>
<h5 id="firstchildæ–¹æ³•å’Œlastchildæ–¹æ³•">firstChild()æ–¹æ³•å’ŒlastChild()æ–¹æ³•</h5>
<blockquote>
<ul>
<li><code>firstChild()</code>æ–¹æ³•ç”¨äºè·å–å½“å‰å…ƒç´ èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ç‚¹å¯¹è±¡ï¼Œç›¸å½“äº<code>childNodes[0]</code></li>
<li><code>lastChild()</code>æ–¹æ³•ç”¨äºè·å–å½“å‰å…ƒç´ èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­—èŠ‚ç‚¹å¯¹è±¡ï¼Œç›¸å½“äº<code>childNodes[childNodes.length-1]</code></li>
</ul>
</blockquote>
<h5 id="1-parentnode-è¿”å›çˆ¶èŠ‚ç‚¹-2previoussiblingå‰ä¸€ä¸ªåŒçº§èŠ‚ç‚¹-3nextsiblingåä¸€ä¸ªåŒçº§èŠ‚ç‚¹">1. <code>parentNode</code> è¿”å›çˆ¶èŠ‚ç‚¹  2.<code>previousSibling</code>å‰ä¸€ä¸ªåŒçº§èŠ‚ç‚¹ 3.<code>nextSibling</code>åä¸€ä¸ªåŒçº§èŠ‚ç‚¹</h5>
<pre><code class="language-javascript">	   var oa = document.getElementById('a');
       var op=oa.childNodes;

       alert(oa.parentNode.nodeName)  //è¿”å›å€¼body
       alert(oa.previousSibling.nodeName)  //#Text   ä¸€ä¸ªç©ºæ–‡æœ¬èŠ‚ç‚¹
       alert(oa.nextSibling.nodeName)  //#Text   ä¸€ä¸ªç©ºæ–‡æœ¬èŠ‚ç‚¹
</code></pre>
<h5 id="firstchildç­‰æ–¹æ³•ç§»é™¤-ç©ºæ–‡æœ¬èŠ‚ç‚¹">firstChild()ç­‰æ–¹æ³•ç§»é™¤ ç©ºæ–‡æœ¬èŠ‚ç‚¹</h5>
<pre><code>    &lt;div id=&quot;a&quot;&gt;
        &lt;p&gt;1&lt;/p&gt;
        &lt;p&gt;2&lt;/p&gt;
        &lt;p&gt;3&lt;/p&gt;
    &lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">	   var oa = document.getElementById('a');
       alert(oa.firstChild.nodeName)  //#text
       alert(removeSpace2(oa).firstChild.nodeName)  //pèŠ‚ç‚¹
       
    function removeSpace2(node) {  
         for(var i=0;i&lt;node.childNodes.length;i++){  
            if(node.childNodes[i].nodeType===3&amp;&amp;/^\s+$/.test(node.childNodes[i].nodeValue)){  
                 node.childNodes[i].parentNode.removeChild(node.childNodes[i]);  
            }   
          }  
     return node;  
}
</code></pre>
<h3 id="åˆ›å»ºæ’å…¥åˆ é™¤æ›¿æ¢å’Œå¤åˆ¶èŠ‚ç‚¹">åˆ›å»ºï¼Œæ’å…¥ï¼Œåˆ é™¤ï¼Œæ›¿æ¢å’Œå¤åˆ¶èŠ‚ç‚¹</h3>
<h5 id="åˆ›å»ºä¸€ä¸ªå…ƒç´ æ’å…¥æ–‡æ¡£">åˆ›å»ºä¸€ä¸ªå…ƒç´ æ’å…¥æ–‡æ¡£</h5>
<blockquote>
<ul>
<li>createElement()åˆ›å»º</li>
<li>appendChild()æ–¹æ³•å¯ä»¥å°†ä¸€ä¸ªæ–°åˆ›å»ºçš„å…ƒç´ èŠ‚ç‚¹æ·»åŠ åˆ°æŸä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹çš„åˆ—è¡¨çš„æœ«å°¾ä¸Š</li>
<li>createTextNode()æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«ç€æŒ‡å®šæ–‡æœ¬çš„æ–°æ–‡æœ¬èŠ‚ç‚¹ , nodeTypeå±æ€§å€¼å°†ä¸º3</li>
</ul>
</blockquote>
<pre><code>&lt;body&gt;
    &lt;div id=&quot;a&quot;&gt;
        &lt;p&gt;1&lt;/p&gt;
        &lt;p&gt;2&lt;/p&gt;
        &lt;p&gt;3&lt;/p&gt;
    &lt;/div&gt;

    &lt;script&gt;
    var oa = document.getElementById('a');

    //æ–°åˆ›å»ºä¸€ä¸ªliå…ƒç´ èŠ‚ç‚¹ï¼Œæ·»åŠ åˆ°æŒ‡å®šå…ƒç´ èŠ‚ç‚¹çš„å­èŠ‚ç‚¹  
    var liNode=document.createElement(&quot;p&quot;);  
    //åˆ›å»ºä¸€ä¸ªæœ‰æŒ‡å®šæ–‡æœ¬çš„æ–‡æœ¬èŠ‚ç‚¹  
    var textNode=document.createTextNode(&quot;4&quot;);  
    //æ·»åŠ åˆ°æ–°å»ºliå…ƒç´ èŠ‚ç‚¹çš„å­èŠ‚ç‚¹(æ–‡æœ¬èŠ‚ç‚¹)ä¸­  
    liNode.appendChild(textNode);  
     
    //æ·»åŠ åˆ°æŒ‡å®šå…ƒç´ èŠ‚ç‚¹çš„æœ«å°¾  
    oa.appendChild(liNode); 

    &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<p><strong>è¿è¡Œç»“æœ</strong><br>
<img src="./QQ%E6%88%AA%E5%9B%BE20160822173140.jpg" alt="Alt text" loading="lazy"></p>
<h5 id="insertbeforeæ–¹æ³•">insertBefore()æ–¹æ³•</h5>
<blockquote>
<p>å…±åŒçš„çˆ¶çº§.insertBefore(è¦æ·»åŠ çš„æ–°èŠ‚ç‚¹,å·²çŸ¥èŠ‚ç‚¹)</p>
</blockquote>
<h5 id="replacechild-æ›¿æ¢">replaceChild() æ›¿æ¢</h5>
<blockquote>
<p>çˆ¶çº§.replaceChild(æ–°èŠ‚ç‚¹ï¼Œè¢«æ›¿æ¢èŠ‚ç‚¹)</p>
</blockquote>
<pre><code>&lt;script&gt;
window.onload = function() {
	
	var oDiv = document.getElementById('div1');
	var oBtn = document.getElementById('btn');
	var oP = document.getElementById('p1');
	
	oBtn.onclick = function() {
		
		document.body.replaceChild( oDiv, oP );
		//ç”¨div1æ›¿æ¢äº†p
	
	}
	
}
&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;div id=&quot;div1&quot;&gt;div1&lt;/div&gt;
    &lt;input type=&quot;button&quot; value=&quot;æŒ‰é’®&quot; id=&quot;btn&quot; /&gt;
    &lt;hr /&gt;
    &lt;p id=&quot;p1&quot;&gt;ppppp&lt;/p&gt;
&lt;/body&gt;
</code></pre>
<p><strong>æ•ˆæœ</strong><br>
<img src="./QQ%E6%88%AA%E5%9B%BE20160822201306.png" alt="Alt text" loading="lazy"></p>
<h5 id="clonenode-å¤åˆ¶å…ƒç´ èŠ‚ç‚¹">cloneNode() å¤åˆ¶å…ƒç´ èŠ‚ç‚¹</h5>
<blockquote>
<p>è¯­æ³• var æ–°å­˜å‚¨çš„å˜é‡ = éœ€è¦å¤åˆ¶çš„èŠ‚ç‚¹ <strong>cloneNode()</strong></p>
<ul>
<li>å‚æ•°å¯é€‰ã€‚é»˜è®¤æ˜¯ <strong>false</strong>ã€‚<br>
è®¾ç½®ä¸º <strong>true</strong>ï¼Œå¦‚æœæ‚¨éœ€è¦å…‹éš†èŠ‚ç‚¹åŠå…¶å±æ€§ï¼Œä»¥åŠåä»£<br>
è®¾ç½®ä¸º <strong>false</strong>ï¼Œå¦‚æœæ‚¨åªéœ€è¦å…‹éš†èŠ‚ç‚¹åŠå…¶åä»£</li>
</ul>
</blockquote>
<h5 id="removechild-åˆ é™¤å…ƒç´ èŠ‚ç‚¹">removeChild() åˆ é™¤å…ƒç´ èŠ‚ç‚¹</h5>
<blockquote>
<p>è¯­æ³•éœ€è¦åˆ é™¤çš„å…ƒç´ çš„çˆ¶èŠ‚ç‚¹ï¼ˆparentNodeï¼‰. removeChild(éœ€è¦åˆ é™¤çš„å…ƒç´ );</p>
</blockquote>
<h3 id="è·å–éè¡Œé—´æ ·å¼">è·å–éè¡Œé—´æ ·å¼</h3>
<p>**ç‰¹åˆ«æ³¨æ„ä¸€ç‚¹ï¼šå¦‚æœè¦è·å–å½“å‰å¯¹è±¡çš„é¢œè‰²ä¿¡æ¯ï¼ŒIEè¿”å›çš„æ˜¯16è¿›åˆ¶çš„'#ffffff'ï¼Œè€ŒFFè¿”å›çš„æ˜¯rgb(255,255,255) **</p>
<h5 id="å‚è€ƒæ–‡ç« é“¾æ¥"><a href="http://www.jb51.net/article/34863.htm">å‚è€ƒæ–‡ç« é“¾æ¥</a></h5>
<h5 id="å‚è€ƒæ–‡æ¡£"><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/currentStyle">å‚è€ƒæ–‡æ¡£</a></h5>
<pre><code class="language-javascript">function getStyle(obj,attr){
		if(obj.currentStyle){
			//å…¼å®¹IE
			return obj.currentStyle[attr];
		}
		else{
			return getComputedStyle(obj,false)[attr];
		}
	}
//å‚æ•°objä¸ºéœ€è¦è·å–æ ·å¼çš„å¯¹è±¡ï¼Œatträ¸ºéœ€è¦è·å–çš„å±æ€§

//ç¤ºä¾‹ï¼š
//å‡è®¾è¿™ä¸ªdivæœ‰ä¸€ä¸ªleftä¸º250pxçš„æ ·å¼
var aDiv = document.getElementsByTagName('div');
console.log(getStyle(aDiv[1],'left')) //è¿”å›250px
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Jsä¸­this,call,apply,bind]]></title>
        <id>https://doupo.github.io/post/js-zhong-thiscallapplybind/</id>
        <link href="https://doupo.github.io/post/js-zhong-thiscallapplybind/">
        </link>
        <updated>2021-02-23T01:54:41.000Z</updated>
        <content type="html"><![CDATA[<h4 id="this">this</h4>
<p><strong>thisçš„æŒ‡å‘åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™æ˜¯ç¡®å®šä¸äº†çš„ï¼Œåªæœ‰å‡½æ•°æ‰§è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®å®šthisåˆ°åº•æŒ‡å‘è°ï¼Œå®é™…ä¸Šthisçš„æœ€ç»ˆæŒ‡å‘çš„æ˜¯é‚£ä¸ªè°ƒç”¨å®ƒçš„å¯¹è±¡</strong><br>
<strong>windowæ˜¯jsä¸­çš„å…¨å±€å¯¹è±¡ï¼Œæˆ‘ä»¬åˆ›å»ºçš„å˜é‡å®é™…ä¸Šæ˜¯ç»™windowæ·»åŠ å±æ€§</strong></p>
<h5 id="ä¾‹1">ä¾‹1ï¼š</h5>
<pre><code class="language-javascript">function athis(){
  console.log(this);
}
athis(); //window

//å¦‚æœæ˜¯ç‚¹å‡»æ‰§è¡Œï¼š
var oa1=document.getElementById('a1'); 
oa1.onclick=athis; //æŒ‡å‘idä¸ºa1çš„å…ƒç´  object HTMLDivElement
</code></pre>
<h5 id="ä¾‹2">ä¾‹2ï¼š</h5>
<pre><code class="language-javascript">	var user='hhh';
var o = {
    user:&quot;è¿½æ¢¦å­&quot;,
    fn:function(){
        console.log(this.user)  //è¿½æ¢¦å­
        return function(){
          console.log(this.user)  //æŒ‡å‘window =&gt; hhh
        }
    }
}
console.log(o.fn()());

if =&gt; console.log(o.fn())
è¿”å›ï¼š //è¿½æ¢¦å­ å’Œ function(){console.log(this.user)
</code></pre>
<blockquote>
<p><code>o.fn()</code>è¿”å›<code>è¿½æ¢¦å­ å’Œ function(){console.log(this.user)</code>;<br>
å¦‚æœæ‰§è¡Œ<code>o.fn()()</code>ï¼›åˆ™è¿”å›çš„å‡½æ•°æ˜¯ç”±<code>window</code>è°ƒç”¨ï¼›<br>
è¿”å›å…¨å±€å˜é‡<code>var user='hhh';</code></p>
</blockquote>
<h4 id="æ³¨æ„3ç‚¹">æ³¨æ„3ç‚¹</h4>
<h5 id="æƒ…å†µ1">æƒ…å†µ1ï¼š</h5>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œä½†æ˜¯å®ƒæ²¡æœ‰è¢«ä¸Šä¸€çº§çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„å°±æ˜¯window</p>
<h5 id="æƒ…å†µ2">æƒ…å†µ2ï¼š</h5>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œè¿™ä¸ªå‡½æ•°æœ‰è¢«ä¸Šä¸€çº§çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„å°±æ˜¯ä¸Šä¸€çº§çš„å¯¹è±¡ã€‚</p>
<h5 id="æƒ…å†µ3">æƒ…å†µ3ï¼š</h5>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æœ‰thisï¼Œè¿™ä¸ªå‡½æ•°ä¸­åŒ…å«å¤šä¸ªå¯¹è±¡ï¼Œå°½ç®¡è¿™ä¸ªå‡½æ•°æ˜¯è¢«æœ€å¤–å±‚çš„å¯¹è±¡æ‰€è°ƒç”¨ï¼ŒthisæŒ‡å‘çš„ä¹Ÿåªæ˜¯å®ƒä¸Šä¸€çº§çš„å¯¹è±¡</p>
<h5 id="ä¾‹3">ä¾‹3ï¼š</h5>
<pre><code class="language-javascript">var o = {
    a:10,
    b:{
        a:12,  //å¦‚æœè¿™é‡Œæ²¡æœ‰ç»™aå®šä¹‰å€¼ï¼Œåˆ™è¿”å›undefined
        fn:function(){
            console.log(this.a); //12
        }
    }
}
o.b.fn();

var o = {
    a:10,
    b:{
        //a:12,
        fn:function(){
            console.log(this.a); //undefined
        }
    }
}
o.b.fn();
</code></pre>
<h5 id="ä¾‹4">ä¾‹4ï¼š</h5>
<pre><code class="language-javascript">var x = 20;
    var a = {
        x: 15,
        fn: function () {
            var x = 30;
            return function () {
                return this.x;
            };
        }
    };

    console.log(a.fn());  //function(){return this.x;}
    console.log((a.fn())()); //20
    console.log(a.fn()());  //20
    console.log(a.fn()() == (a.fn())()); //true
    console.log(a.fn().call(this));  //20
    console.log(a.fn().call(a));   //15
	
	returnåçš„å‡½æ•°æŒ‡å‘window
	æœ€åä¸€ä¸ªæŠŠthisæŒ‡å‘äº†aå¯¹è±¡ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ˜¯a.xå°±ä¸º15
</code></pre>
<h5 id="ä¾‹5">ä¾‹5ï¼š</h5>
<pre><code class="language-javascript">  var o = {
    e:10,
    b:{
        e:12,
        fn:function(){
            console.log(this.e); //undefined
            console.log(this); //window
        }
    }
}
var j = o.b.fn;
j();
</code></pre>
<blockquote>
<p>thisçš„æŒ‡å‘åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™æ˜¯ç¡®å®šä¸äº†çš„ï¼Œåªæœ‰å‡½æ•°æ‰§è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®å®šthisåˆ°åº•æŒ‡å‘è°ã€‚<br>
ä¾‹å­5ä¸­è™½ç„¶å‡½æ•°fnæ˜¯è¢«å¯¹è±¡bæ‰€å¼•ç”¨ï¼Œä½†æ˜¯åœ¨å°†fnèµ‹å€¼ç»™å˜é‡jçš„æ—¶å€™å¹¶æ²¡æœ‰æ‰§è¡Œæ‰€ä»¥æœ€ç»ˆæŒ‡å‘çš„æ˜¯windowï¼Œè¿™&gt;å’Œä¾‹å­3æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¾‹å­3æ˜¯ç›´æ¥æ‰§è¡Œäº†fn</p>
</blockquote>
<h4 id="æ„é€ å‡½æ•°ç‰ˆthis">æ„é€ å‡½æ•°ç‰ˆthis</h4>
<h5 id="ä¾‹1-2">ä¾‹1</h5>
<pre><code class="language-javascript">function Fn(){
    this.user = &quot;222&quot;;
}
var a = new Fn();
console.log(a.user); //222
</code></pre>
<p>#####<a href="http://www.cnblogs.com/pssp/p/5216085.html">åˆ†æ</a></p>
<blockquote>
<p>è¿™é‡Œä¹‹æ‰€ä»¥å¯¹è±¡aå¯ä»¥ç‚¹å‡ºå‡½æ•°Fné‡Œé¢çš„useræ˜¯å› ä¸ºnewå…³é”®å­—å¯ä»¥æ”¹å˜thisçš„æŒ‡å‘ï¼Œå°†è¿™ä¸ªthisæŒ‡å‘å¯¹è±¡aï¼Œä¸ºä»€ä¹ˆæˆ‘è¯´aæ˜¯å¯¹è±¡ï¼Œå› ä¸ºç”¨äº†newå…³é”®å­—å°±æ˜¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œç†è§£è¿™å¥è¯å¯ä»¥æƒ³æƒ³æˆ‘ä»¬çš„ä¾‹å­3ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨å˜é‡aåˆ›å»ºäº†ä¸€ä¸ªFnçš„å®ä¾‹ï¼ˆç›¸å½“äºå¤åˆ¶äº†ä¸€ä»½Fnåˆ°å¯¹è±¡aé‡Œé¢ï¼‰ï¼Œæ­¤æ—¶ä»…ä»…åªæ˜¯åˆ›å»ºï¼Œå¹¶æ²¡æœ‰æ‰§è¡Œï¼Œè€Œè°ƒç”¨è¿™ä¸ªå‡½æ•°Fnçš„æ˜¯å¯¹è±¡aï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„è‡ªç„¶æ˜¯å¯¹è±¡aï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆå¯¹è±¡Fnä¸­ä¼šæœ‰userï¼Œå› ä¸ºä½ å·²ç»å¤åˆ¶äº†ä¸€ä»½Fnå‡½æ•°åˆ°å¯¹è±¡aä¸­ï¼Œç”¨äº†newå…³é”®å­—å°±ç­‰åŒäºå¤åˆ¶äº†ä¸€ä»½ã€‚</p>
</blockquote>
<h5 id="å½“thisç¢°åˆ°return">å½“thisç¢°åˆ°return</h5>
<p><strong>å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆthisæŒ‡å‘çš„å°±æ˜¯é‚£ä¸ªè¿”å›çš„å¯¹è±¡ï¼Œå¦‚æœè¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡é‚£ä¹ˆthisè¿˜æ˜¯æŒ‡å‘å‡½æ•°çš„å®ä¾‹</strong><br>
æ³¨ï¼šè™½ç„¶nullä¹Ÿæ˜¯å¯¹è±¡ï¼Œthisè¿˜æ˜¯æŒ‡å‘é‚£ä¸ªå‡½æ•°çš„å®ä¾‹ï¼Œå› ä¸ºnullæ¯”è¾ƒç‰¹æ®Š</p>
<pre><code class="language-javascript">//1ç©ºå¯¹è±¡
function fn()  
{  
    this.user = 'è¿½æ¢¦å­';  
    return {};  
}
var a = new fn;  
console.log(a.user); //undefined

//2.è¿”å›å¯¹è±¡
function fn()  
{  
    this.user = 'è¿½æ¢¦å­';  
    return {user:'111'};  
}
var a = new fn;  
console.log(a.user); //111

//3.undefinedå’Œå­—æ¯æ•°å­—ä¹‹ç±»
function fn()  
{  
    this.user = '222';  
    return undefined;
}
var a = new fn;  
console.log(a.user); //222
</code></pre>
<h4 id="call">call</h4>
<p><strong>å¦‚æœ<code>call</code>å’Œ<code>apply</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°å†™çš„æ˜¯<code>null</code>ï¼Œé‚£ä¹ˆ<code>this</code>æŒ‡å‘çš„æ˜¯<code>window</code>å¯¹è±¡</strong></p>
<blockquote>
<p>1.æ›¿æ¢å‡½æ•°è¿è¡Œç¯å¢ƒä¸­çš„this<br>
2.ä¼ é€’å‚æ•°<br>
3.è¿è¡Œå‡½æ•°</p>
</blockquote>
<pre><code class="language-javascript">var a = {
    user:&quot;call&quot;,
    fn:function(e,ee){
        console.log(this.user); //call
        console.log(e+ee); //3
    }
}
var b = a.fn;
b.call(a,1,2);

//callæ–¹æ³•å°†åŸæœ¬æŒ‡å‘windowçš„thisæŒ‡å‘äº†aï¼›

var a = {
    user:&quot;call&quot;,
    fn:function(e,ee){
        console.log(this.user); //undefined
        console.log(e+ee); //3
    }
}
var b = a.fn;
b(1,2);
//æ²¡æœ‰ä½¿ç”¨callï¼Œwindowä¸‹æ²¡æœ‰userè¿”å›undefined
</code></pre>
<h4 id="apply">apply</h4>
<blockquote>
<p>æ–¹æ³•ä½¿ç”¨å’Œcallä¸€æ ·ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°ç»„</p>
</blockquote>
<pre><code class="language-javascript">var a = {
    user:&quot;apply&quot;,
    fn:function(e,ee){
        console.log(this.user); //apply
        console.log(e+ee); //6a
    }
}
var b = a.fn;
b.apply(a,[6,'a']);
</code></pre>
<h4 id="bind">bind</h4>
<p><strong>è¿”å›çš„æ˜¯ä¸€ä¸ªä¿®æ”¹è¿‡åçš„å‡½æ•°</strong></p>
<h5 id="ä¾‹1-3">ä¾‹1</h5>
<pre><code class="language-javascript">var a = {
    user:&quot;bind&quot;,
    fn:function(){
        console.log(this.user); 
    }
}
var b = a.fn;
var c = b.bind(a);
console.log(c)  //function (){console.log(this.user);}
c(); //bind
</code></pre>
<h5 id="ä¾‹2-2">ä¾‹2</h5>
<pre><code class="language-javascript">var a = {
    user:&quot;bind&quot;,
    fn:function(e,d,f){
        console.log(this.user); //bind
        console.log(e,d,f); //10 1 2
    }
}
var b = a.fn;
var c = b.bind(a,6,7,8);
c();

// var c = b.bind(a,10,4);
// c(2);

//var c = b.bind(a);
//c(2,3,4);

//var c = b.bind(a,22);  
//ä¼˜å…ˆçº§é«˜,å‚æ•°è¶…å‡ºå–å‰ï¼Œå‚æ•°ä¸å¤Ÿundefined
//c(2,3,4,5); //22,2,3

console.log(c);  //function (e,d,f){ console.log(this.user);  console.log(e,d,f); }
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[nodeå­¦ä¹ ]]></title>
        <id>https://doupo.github.io/post/node-xue-xi/</id>
        <link href="https://doupo.github.io/post/node-xue-xi/">
        </link>
        <updated>2021-02-23T01:51:47.000Z</updated>
        <content type="html"><![CDATA[<p>@(jså­¦ä¹ ç¬”è®°)</p>
<h2 id="nodeå­¦ä¹ 1">nodeå­¦ä¹ ï¼ˆ1ï¼‰</h2>
<p>[toc]</p>
<h3 id="nodejsç®€ä»‹">Node.jsç®€ä»‹</h3>
<p><a href="http://nodejs.cn/">ä¸­æ–‡å®˜ç½‘</a></p>
<h4 id="ç®€ä»‹">ç®€ä»‹</h4>
<p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒ;<br>
V8å¼•æ“æœ¬èº«å°±æ˜¯ç”¨äºChromeæµè§ˆå™¨çš„JSè§£é‡Šéƒ¨åˆ†</p>
<h4 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h4>
<p><strong><code>å•çº¿ç¨‹</code></strong><br>
åœ¨Javaã€PHPæˆ–è€….netç­‰æœåŠ¡å™¨ç«¯è¯­è¨€ä¸­ï¼Œä¼šä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚<br>
Node.jsä¸ä¸ºæ¯ä¸ªå®¢æˆ·è¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œè€Œä»…ä»…ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ã€‚</p>
<p><strong><code>éé˜»å¡I/O</code></strong><br>
Node.jsä¸­é‡‡ç”¨äº†éé˜»å¡å‹I/Oæœºåˆ¶ï¼Œåœ¨æ‰§è¡Œäº†è®¿é—®æ•°æ®åº“çš„ä»£ç ä¹‹åï¼Œå°†ç«‹å³è½¬è€Œæ‰§è¡Œå…¶åé¢çš„ä»£ç ï¼ŒæŠŠæ•°æ®åº“è¿”å›ç»“æœçš„å¤„ç†ä»£ç æ”¾åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œä»è€Œæé«˜äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><strong><code>äº‹ä»¶é©±åŠ¨</code></strong><br>
åœ¨Nodeä¸­ï¼Œå®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹è¿æ¥ï¼Œæäº¤æ•°æ®ç­‰è¡Œä¸ºï¼Œä¼šè§¦å‘ç›¸åº”çš„äº‹ä»¶ã€‚åœ¨Nodeä¸­ï¼Œåœ¨ä¸€ä¸ªæ—¶åˆ»ï¼Œåªèƒ½æ‰§è¡Œä¸€ä¸ªäº‹ä»¶å›è°ƒå‡½æ•°ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œä¸€ä¸ªäº‹ä»¶å›è°ƒå‡½æ•°çš„ä¸­é€”ï¼Œå¯ä»¥è½¬è€Œå¤„ç†å…¶ä»–äº‹ä»¶ï¼Œç„¶åè¿”å›ç»§ç»­æ‰§è¡ŒåŸäº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œè¿™ç§å¤„ç†æœºåˆ¶ï¼Œç§°ä¸ºâ€œäº‹ä»¶ç¯â€æœºåˆ¶</p>
<p><strong><code>æ¨¡å—</code></strong><br>
Node.jsä¸­ï¼Œå°†å¾ˆå¤šçš„åŠŸèƒ½ï¼Œåˆ’åˆ†ä¸ºäº†ä¸€ä¸ªä¸ªmuduleï¼Œä½¿ç”¨ require æŒ‡ä»¤æ¥è½½å…¥æ¨¡å—</p>
<h4 id="å¼€å§‹">å¼€å§‹</h4>
<h5 id="hello-world">Hello World</h5>
<p>åˆ›å»ºHelloWorld.jsæ–‡ä»¶</p>
<blockquote>
<p>ä½¿ç”¨ http.createServer() æ–¹æ³•åˆ›å»ºæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ listen æ–¹æ³•ç»‘å®š 8080 ç«¯å£ã€‚ å‡½æ•°é€šè¿‡ request, response å‚æ•°æ¥æ¥æ”¶å’Œå“åº”æ•°æ®</p>
</blockquote>
<pre><code class="language-javascript">//è½½å…¥ http æ¨¡å—ï¼Œèµ‹å€¼ç»™å˜é‡ http
var http = require(&quot;http&quot;);
//åˆ›å»ºæœåŠ¡å™¨ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå¦‚æœæœ‰è¯·æ±‚è¿›æ¥ï¼Œè¦åšä»€ä¹ˆ
var server = http.createServer(function(request,response){
	//è®¾ç½®HTTPå¤´éƒ¨ï¼ŒçŠ¶æ€ç æ˜¯200ï¼Œæ–‡ä»¶ç±»å‹æ˜¯htmlï¼Œå­—ç¬¦é›†æ˜¯utf8
	response.writeHead(200,{&quot;Content-type&quot;:&quot;text/html;charset=UTF-8&quot;});
	response.end(&quot;Hello World&quot;);
});

//è¿è¡ŒæœåŠ¡å™¨ï¼Œç›‘å¬8080ç«¯å£
server.listen(8080,&quot;localhost&quot;);
</code></pre>
<p>ä½¿ç”¨ node å‘½ä»¤æ‰§è¡Œ<br>
<code>node HelloWorld.js</code></p>
<p>ä½¿ç”¨æµè§ˆå™¨è®¿é—®<code>http://localhost:8080/</code><br>
<img src="https://doupo.coding.me/note_img/node/node_01.png" alt="enter image description here" loading="lazy"></p>
<h3 id="æ¨¡å—">æ¨¡å—</h3>
<h4 id="nodeå†…ç½®æ¨¡å—">nodeå†…ç½®æ¨¡å—</h4>
<h5 id="requrl">req.url</h5>
<p>å¯ä»¥ç”¨æ¥åšåˆ¤æ–­ï¼Œå¤„ç†é¡¶å±‚è·¯ç”±</p>
<h5 id="url">url</h5>
<p>å¯ä»¥ç”¨æ¥è·å–åœ°å€åæŸ¥è¯¢å­—ç¬¦ä¸²ç­‰<br>
<code>url.parse()</code>å¯ä»¥å°†ä¸€ä¸ªå®Œæ•´çš„URLåœ°å€ï¼Œåˆ†ä¸ºå¾ˆå¤šéƒ¨åˆ†ï¼šhostã€portã€pathnameã€pathã€query</p>
<p><strong>è¯­æ³•ï¼š</strong><br>
<code>url.parse(req.url,true)</code><br>
è·å–ä¸€ä¸ªå¯¹è±¡</p>
<h5 id="fs">fs</h5>
<p>æ–‡ä»¶ç³»ç»Ÿ<br>
<strong>è¯»å–æ–‡ä»¶</strong></p>
<pre><code class="language-javascript">fs.readFile(&quot;æ–‡ä»¶åœ°å€&quot;,function(err,data){
	if(err){
			throw err;
		}
});
</code></pre>
<p><strong>åˆ›å»º</strong></p>
<pre><code class="language-javascript">fs.mkdir(&quot;æ–‡ä»¶å¤¹å&quot;);
</code></pre>
<p><strong>è¯»å–è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶</strong><br>
<code>readdir</code> è¿”å›æ•°ç»„æ ¼å¼æ–‡ä»¶ä¿¡æ¯</p>
<p><strong>æ£€æµ‹</strong><br>
<code>fs.stat</code>æ£€æµ‹çŠ¶æ€<br>
<code>data.isDirectory()</code>æ£€æµ‹æ˜¯å¦æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿”å›trueå’Œfalse</p>
<p>ä¾‹ï¼š</p>
<pre><code class="language-javascript">fs.stat(&quot;./abc&quot;,function(err,data){
		//æ£€æµ‹è¿™ä¸ªè·¯å¾„ï¼Œæ˜¯ä¸æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹
		console.log(data.isDirectory());
	});
</code></pre>
<h5 id="path">path</h5>
<p>è·å–æ–‡ä»¶æ‰©å±•å</p>
<pre><code class="language-javascript">	var extname = path.extname(pathname);
	//å‡è®¾pathnameä¸ºindex.html
	//extname='.html'
</code></pre>
<h4 id="ä¹¦å†™æ¨¡å—">ä¹¦å†™æ¨¡å—</h4>
<p>â— åœ¨Node.jsä¸­ï¼Œä»¥æ¨¡å—ä¸ºå•ä½åˆ’åˆ†æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼Œè¿™æ—¶çš„æˆ‘ä»¬å¯ä»¥å°†åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºå„ä¸ªä¸åŒçš„éƒ¨åˆ†ã€‚<br>
ä¸å¯èƒ½ç”¨ä¸€ä¸ªjsæ–‡ä»¶å»å†™å…¨éƒ¨çš„ä¸šåŠ¡ã€‚è‚¯å®šè¦æœ‰MVCã€‚<br>
â— Node.jsä¸­ï¼Œä¸€ä¸ªJavaScriptæ–‡ä»¶ä¸­å®šä¹‰çš„å˜é‡ã€å‡½æ•°ï¼Œéƒ½åªåœ¨è¿™ä¸ªæ–‡ä»¶å†…éƒ¨æœ‰æ•ˆã€‚å½“éœ€è¦ä»æ­¤JSæ–‡ä»¶å¤–éƒ¨å¼•ç”¨è¿™äº›å˜é‡ã€å‡½æ•°æ—¶ï¼Œå¿…é¡»ä½¿ç”¨exportså¯¹è±¡è¿›è¡Œæš´éœ²ã€‚ä½¿ç”¨è€…è¦ç”¨require()å‘½ä»¤å¼•ç”¨è¿™ä¸ªJSæ–‡ä»¶</p>
<h5 id="æ™®é€šå¯¹è±¡">æ™®é€šå¯¹è±¡</h5>
<p><strong>ä¾‹ï¼š</strong><br>
<strong>æ¨¡å—</strong></p>
<pre><code class="language-javascript">var a = &quot;hello&quot;;
exports.a = a;
</code></pre>
<p>Aè¿™ä¸ªå˜é‡ï¼Œæ˜¯ä¸€ä¸ªjsæ–‡ä»¶å†…éƒ¨æ‰æœ‰ä½œç”¨åŸŸçš„å˜é‡ã€‚<br>
å¦‚æœåˆ«äººæƒ³ç”¨è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆå°±è¦ç”¨exportsè¿›è¡Œæš´éœ²ã€‚</p>
<p><strong>ä½¿ç”¨è€…ï¼š</strong></p>
<pre><code class="language-javascript">var newA = require(&quot;./test/a.js&quot;);
console.log(newA.a);

//è¾“å‡º  hello
</code></pre>
<h5 id="ç±»å¯¹è±¡">ç±»å¯¹è±¡</h5>
<blockquote>
<p>ç”¨<code>module.export = æ„é€ å‡½æ•°å;</code>çš„æ–¹å¼å‘å¤–æš´éœ²ä¸€ä¸ªç±»</p>
</blockquote>
<p><strong>æ¨¡å—</strong></p>
<pre><code class="language-javascript">function People(name, sex, age) {
    this.name = name;
    this.sex = sex;
    this.age = age;
}

People.prototype.sayHello = function () {
    console.log(this.name + this.sex + this.age);
}

//æ­¤æ—¶ï¼ŒPeopleå°±è¢«è§†ä¸ºæ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨newæ¥å®ä¾‹åŒ–äº†ã€‚
module.exports = People;
</code></pre>
<p><strong>ä½¿ç”¨è€…ï¼š</strong></p>
<pre><code class="language-javascript">var People = require(&quot;./æ¨¡å—.js&quot;);
var xiaoming = new People(&quot;å°æ˜&quot;,&quot;ç”·&quot;,&quot;12&quot;);
xiaoming.sayHello();

//è¾“å‡º  å°æ˜ç”·12
</code></pre>
<h5 id="æ¨¡å—è§„èŒƒ">æ¨¡å—è§„èŒƒ</h5>
<p>æ¯ä¸€ä¸ªæ¨¡å—æ–‡ä»¶å¤¹ä¸­ï¼Œæ¨èéƒ½å†™ä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„åå­—ä¸èƒ½æ”¹ã€‚nodeå°†è‡ªåŠ¨è¯»å–é‡Œé¢çš„é…ç½®ã€‚æœ‰ä¸€ä¸ªmainé¡¹ï¼Œå°±æ˜¯å…¥å£æ–‡ä»¶ï¼š</p>
<pre><code class="language-javascript">{
  &quot;name&quot;: &quot;app&quot;,
  &quot;version&quot;: &quot;1.0.1&quot;,
  &quot;main&quot; : &quot;app.js&quot;  //å®šä¹‰ï¼Œå¯ä»¥ä½¿ç”¨éindexçš„åå­—
}
</code></pre>
<p>package.jsonæ–‡ä»¶ï¼Œè¦æ”¾åœ¨æ¨¡å—æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•</p>
<hr>
<h4 id="requireå†™æ³•">requireå†™æ³•</h4>
<h5 id="requireæ¨¡å—js">require(&quot;./æ¨¡å—.js&quot;)</h5>
<p>å½“å‰ç›®å½•å¯»æ‰¾æ–‡ä»¶</p>
<h5 id="requireæ¨¡å—js-2">require(&quot;æ¨¡å—.js&quot;)</h5>
<p>æ²¡æœ‰å†™è·¯å¾„ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è·¯å¾„ï¼Œ<br>
é‚£ä¹ˆNode.jså°†è¯¥æ–‡ä»¶è§†ä¸ºnode_modulesç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶</p>
<p>**æ³¨ï¼š**node_modulesæ–‡ä»¶å¤¹å¹¶ä¸ä¸€å®šåœ¨åŒçº§ç›®å½•é‡Œé¢ï¼Œåœ¨ä»»ä½•ç›´æ¥ç¥–å…ˆçº§ç›®å½•</p>
<h5 id="requirea">require(&quot;a&quot;)</h5>
<p>æ²¡æœ‰è·¯å¾„ï¼Œæ²¡æœ‰<code>.js</code>æ‰©å±•åã€‚æ‰€ä»¥è¯»å–<code>node_modules</code>ä¸‹æ–‡ä»¶å¤¹aé‡Œé¢çš„<code>index.js</code>æ–‡ä»¶</p>
<hr>
<h4 id="npmä½¿ç”¨">NPMä½¿ç”¨</h4>
<p><a href="https://www.npmjs.com">å®˜ç½‘</a><br>
å¯ä»¥ä¸‹è½½å’Œä¸Šä¼ è‡ªå·±çš„æ¨¡å—<br>
æˆ‘ä»¬ç”¨package.jsonæ¥ç®¡ç†ä¾èµ–</p>
<blockquote>
<p>å¯ä»¥ä½¿ç”¨npm initå¯ä»¥åˆå§‹åŒ–ä¸€ä¸ªpackage.jsonæ–‡ä»¶</p>
</blockquote>
<p><a href="https://docs.npmjs.com/files/package.json">packageæ–‡æ¡£</a></p>
<hr>
<h3 id="æ„å»ºæœ¬åœ°æœåŠ¡å™¨å®ä¾‹">æ„å»ºæœ¬åœ°æœåŠ¡å™¨å®ä¾‹</h3>
<pre><code class="language-javascript">var http = require(&quot;http&quot;);
var url = require(&quot;url&quot;);
var fs = require(&quot;fs&quot;);
var path = require(&quot;path&quot;);

http.createServer(function (req, res) {
	//å¾—åˆ°ç”¨æˆ·çš„è·¯å¾„
	var pathname = url.parse(req.url).pathname;

	var	mimeData;

	//é»˜è®¤é¦–é¡µ
	if (pathname == &quot;/&quot;) {
		pathname = &quot;index.html&quot;;
	}

	//è¯»æ•°æ®ç±»å‹æ–‡ä»¶
	(function () {
		fs.readFile(&quot;./mime.json&quot;, function (err, data) {
			if (err) {
				throw err;
			};
			res.writeHead(200, { &quot;Content-type&quot;: &quot;application/json&quot; });
			mimeData = JSON.parse(data);
		});
	})();

	//æ‹“å±•å
	var extname = path.extname(pathname);

	//è¯»å–è¿™ä¸ªæ–‡ä»¶
	fs.readFile(&quot;./test/&quot; + pathname, function (err, data) {
		if (err) {
			//å¦‚æœæ­¤æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°±åº”è¯¥ç”¨404è¿”å›
			fs.readFile(&quot;./static/404.html&quot;, function (err, data) {
				res.writeHead(404, { &quot;Content-type&quot;: &quot;text/html;charset=UTF8&quot; });
				res.end(data);
			});
			return;
		};
	
		//MIMEç±»å‹
		//ç½‘é¡µæ–‡ä»¶ï¼š  text/html
		//jpgæ–‡ä»¶ :   image/jpg
		var mime = getMime(extname,mimeData);
		res.writeHead(200, { &quot;Content-type&quot;: mime });
		res.end(data);
	});

}).listen(8888, &quot;localhost&quot;);

function getMime(extname,mimeData) {
	if(mimeData[extname]){
		return mimeData[extname];
	}
}
</code></pre>
<h3 id="postè¯·æ±‚">postè¯·æ±‚</h3>
<p>nodeä¸ºäº†è¿½æ±‚æè‡´ï¼Œå®ƒæ˜¯ä¸€ä¸ªå°æ®µä¸€ä¸ªå°æ®µæ¥æ”¶çš„ã€‚<br>
é˜²æ­¢ä¸€ä¸ªè¿‡å¤§çš„è¡¨å•é˜»å¡äº†æ•´ä¸ªè¿›ç¨‹</p>
<pre><code class="language-javascript"> var alldata = &quot;&quot;;
req.addListener(&quot;data&quot;, function (chunk) {
    alldata += chunk;
});
//å…¨éƒ¨ä¼ è¾“å®Œæ¯•
req.addListener(&quot;end&quot;, function () {
    console.log(alldata.toString());
    res.end(&quot;success&quot;);
});
</code></pre>
<p>åŸç”Ÿå†™POSTå¤„ç†ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œè¦å†™ä¸¤ä¸ªç›‘å¬ã€‚æ–‡ä»¶ä¸Šä¼ ä¸šåŠ¡æ¯”è¾ƒéš¾å†™ã€‚<br>
æ‰€ä»¥ï¼Œç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚<code>formidable</code>ã€‚</p>
<p>åªè¦æ¶‰åŠæ–‡ä»¶ä¸Šä¼ ï¼Œé‚£ä¹ˆformæ ‡ç­¾è¦åŠ ä¸€ä¸ªå±æ€§ï¼š<br>
<code>&lt;form action=&quot;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</code></p>
<h3 id="expressæ¡†æ¶">Expressæ¡†æ¶</h3>
<h5 id="å®˜ç½‘"><a href="http://www.expressjs.com.cn/">å®˜ç½‘</a></h5>
<h4 id="æ¨¡æ¿å¼•æ“">æ¨¡æ¿å¼•æ“</h4>
<p>ejså’Œjade</p>
<h5 id="ejsä½¿ç”¨">ejsä½¿ç”¨</h5>
<p><strong>æ¨¡æ¿éƒ¨åˆ†</strong><br>
æ¨¡æ¿é»˜è®¤éœ€è¦æ”¾ç½®åœ¨<code>views</code>æ–‡ä»¶å¤¹ï¼›<br>
å¦‚æœéœ€è¦è‡ªå®šä¹‰è®¾ç½®æ–‡ä»¶å¤¹åå­—ï¼Œä½¿ç”¨<code>app.set(&quot;views&quot;,&quot;aaaa&quot;);</code><br>
æ–‡ä»¶å<code>hh.ejs</code><br>
æ’å…¥é€šç”¨æ¨¡å—<code>&lt;% include header.ejs %&gt;</code></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;ul&gt;
    &lt;% for (var i = 0;i &lt; news.length;i++){ %&gt;
    &lt;li&gt;&lt;%= news[i] %&gt;&lt;/li&gt;
    &lt;% } %&gt;
&lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>jséƒ¨åˆ†</strong></p>
<pre><code class="language-javascript">var express = require('express');
var app = express();

app.set('view engine', 'ejs');

app.get('/', function (req, res) {
    res.render('hh', {
        news: ['1', '2', '3']
    })
}).listen(8080, 'localhost');
</code></pre>
<h4 id="è·¯ç”±">è·¯ç”±</h4>
<h5 id="ç”¨getè¯·æ±‚è®¿é—®"><strong>ç”¨getè¯·æ±‚è®¿é—®</strong></h5>
<pre><code>app.get(&quot;/&quot;,function(req,res){
});
</code></pre>
<h5 id="ç”¨postè®¿é—®"><strong>ç”¨postè®¿é—®</strong></h5>
<pre><code>app.post(&quot;/&quot;,function(req,res){
});
</code></pre>
<h5 id="å¤„ç†æ‰€æœ‰è¯·æ±‚">å¤„ç†æ‰€æœ‰è¯·æ±‚</h5>
<p><strong>å¦‚æœæƒ³å¤„ç†è¿™ä¸ªç½‘å€çš„ä»»ä½•methodçš„è¯·æ±‚ï¼Œé‚£ä¹ˆå†™all</strong></p>
<pre><code>app.all(&quot;/&quot;,function(){
});
</code></pre>
<h5 id="åœ°å€ä¿¡æ¯">åœ°å€ä¿¡æ¯</h5>
<p><strong>åœ°å€ä¿¡æ¯ä¸åˆ†å¤§å°å†™</strong></p>
<pre><code>app.get(&quot;/ABc&quot;,function(req,res){
    res.send(&quot;ä½ å¥½&quot;);
});
</code></pre>
<p>è®¿é—® <code>/abc</code>ä¹Ÿå¯ä»¥</p>
<h5 id="getå‚æ•°"><strong>GETå‚æ•°</strong></h5>
<p>â— GETè¯·æ±‚çš„å‚æ•°åœ¨URLä¸­ï¼Œåœ¨åŸç”ŸNodeä¸­ï¼Œéœ€è¦ä½¿ç”¨<code>url</code>æ¨¡å—æ¥è¯†åˆ«å‚æ•°å­—ç¬¦ä¸²ã€‚åœ¨Expressä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>req.query</code>å¯¹è±¡ã€‚</p>
<p>â— POSTè¯·æ±‚åœ¨expressä¸­ä¸èƒ½ç›´æ¥è·å¾—ï¼Œå¿…é¡»ä½¿ç”¨<code>body-parser</code>æ¨¡å—ã€‚ä½¿ç”¨åï¼Œå°†å¯ä»¥ç”¨<code>req.body</code>å¾—åˆ°å‚æ•°ã€‚ä½†æ˜¯å¦‚æœè¡¨å•ä¸­å«æœ‰æ–‡ä»¶ä¸Šä¼ ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦ä½¿ç”¨<code>formidable</code>æ¨¡å—ã€‚`</p>
<pre><code class="language-javascript">var bodyParser = require('body-parser')
//bodyParser API
app.use(bodyParser.urlencoded({ extended: false }))

app.post(&quot;/&quot;,function(req,res){
    console.log(req.body);
});
</code></pre>
<h5 id="æ­£åˆ™è¡¨è¾¾å¼"><strong>æ­£åˆ™è¡¨è¾¾å¼</strong></h5>
<p>æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¢«ä½¿ç”¨ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼ŒæœªçŸ¥éƒ¨åˆ†ç”¨åœ†æ‹¬å·åˆ†ç»„ï¼Œç„¶åå¯ä»¥ç”¨req.params[0]ã€[1]å¾—åˆ°ã€‚<br>
req.paramsç±»æ•°ç»„å¯¹è±¡ã€‚</p>
<pre><code>app.get(/^\/student\/([\d]{10})$/,function(req,res){
    res.send(&quot;å­¦ç”Ÿä¿¡æ¯ï¼Œå­¦å·&quot; + req.params[0]);
});
</code></pre>
<p><strong>æ¨èä½¿ç”¨å†’å·å†™æ³•</strong></p>
<pre><code>app.get(&quot;/student/:id&quot;,function(req,res){
    var id = req.params[&quot;id&quot;];
    var reg= /^[\d]{6}$/;   //æ­£åˆ™éªŒè¯
    if(reg.test(id)){
        res.send(id);
    }else{
        res.send(&quot;è¯·æ£€æŸ¥æ ¼å¼&quot;);
    }
});
</code></pre>
<h5 id="è¡¨å•å¯ä»¥æäº¤åˆ°è‡ªå·±ä¸Š">è¡¨å•å¯ä»¥æäº¤åˆ°è‡ªå·±ä¸Š</h5>
<p>app.get(&quot;/&quot;,function(req,res){<br>
res.render(&quot;form&quot;);<br>
});</p>
<p>app.post(&quot;/&quot;,function(req,res){<br>
//å°†æ•°æ®æ·»åŠ è¿›å…¥æ•°æ®åº“<br>
res.send(&quot;æˆåŠŸ&quot;);<br>
});</p>
<h4 id="é™æ€æ–‡ä»¶æœåŠ¡">é™æ€æ–‡ä»¶æœåŠ¡</h4>
<p><code>app.use(express.static(&quot;./è·¯å¾„&quot;));</code></p>
<h4 id="ä¸­é—´ä»¶">ä¸­é—´ä»¶</h4>
<p>Expressçš„ä¸­é—´ä»¶ï¼Œç”¨æ¥å®ç°å„ç§åŠŸèƒ½ã€‚å¯¹äºåŒä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œå¯èƒ½åŒæ—¶æœ‰å¤šä¸ªåŒ¹é…çš„ä¸­é—´ä»¶ï¼Œä¸€èˆ¬é¡ºåºæ‰§è¡Œã€‚è€Œ next() åˆ™æ˜¯æŠŠæ‰§è¡Œæ§åˆ¶æƒï¼Œä»ä¸Šä¸€ä¸ªä¸­é—´ä»¶ï¼Œè½¬ç§»åˆ°ä¸‹ä¸€ä¸ªä¸­é—´ä»¶çš„å‡½æ•°</p>
<p>ä¸‹é¢ä¾‹å­ä¸­å¦‚æœæˆ‘çš„çš„getå›è°ƒå‡½æ•°ä¸­ï¼Œæ²¡æœ‰nextå‚æ•°ï¼Œé‚£ä¹ˆåªä¼šåŒ¹é…ä¸Šç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„è·¯ç”±</p>
<h5 id="next">next()</h5>
<pre><code class="language-javascript">å¦‚æœæƒ³å¾€ä¸‹åŒ¹é…çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦å†™next()
app.get(&quot;/&quot;,function(req,res,next){
    console.log(&quot;1&quot;);
    next();
    res.send();
});

app.get(&quot;/&quot;,function(req,res){
    console.log(&quot;2&quot;);
    res.send();
});

//å¦‚æœæ²¡æœ‰è®¾ç½®nextå‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶æ‰§è¡Œï¼Œåªåªä¼šæ‰“å°å‡º1
</code></pre>
<blockquote>
<p>expressä¸­æ‰€æœ‰çš„è·¯ç”±ï¼ˆä¸­é—´ä»¶ï¼‰çš„é¡ºåºè‡³å…³é‡è¦ã€‚<br>
å…·ä½“çš„å¾€ä¸Šå†™ï¼ŒæŠ½è±¡çš„å¾€ä¸‹å†™<br>
ä¸­é—´ä»¶è®²ç©¶é¡ºåºï¼ŒåŒ¹é…ä¸Šç¬¬ä¸€ä¸ªä¹‹åï¼Œå°±ä¸ä¼šå¾€ååŒ¹é…äº†ã€‚nextå‡½æ•°æ‰èƒ½å¤Ÿç»§ç»­å¾€ååŒ¹é…</p>
</blockquote>
<h5 id="appuse">app.use()</h5>
<p>app.use()ä¹Ÿæ˜¯ä¸€ä¸ªä¸­é—´ä»¶ã€‚ä¸getã€postä¸åŒçš„æ˜¯ï¼Œä»–çš„ç½‘å€ä¸æ˜¯ç²¾ç¡®åŒ¹é…çš„ï¼Œè€Œæ˜¯èƒ½å¤Ÿæœ‰å°æ–‡ä»¶å¤¹æ‹“å±•çš„ã€‚<br>
æ¯”å¦‚è®¿é—®ç½‘å€ï¼š  <code>http://locakhost:8080/admin/id/123</code></p>
<pre><code class="language-javascript">app.use(&quot;/admin&quot;,function(req,res){ 
    res.write(req.originalUrl + &quot;\n&quot;);   //åŸå§‹ç½‘å€   /admin/id/123
    res.write(req.baseUrl + &quot;\n&quot;);  // é¡¶å±‚åœ°å€  /admin
    res.write(req.path + &quot;\n&quot;);   //   /id/123
    res.end(&quot;over&quot;);
});
</code></pre>
<p>adminä¹‹ä¸‹å…¨éƒ¨å¯ä»¥è®¿é—®</p>
<h4 id="express-session">express-session</h4>
<p><a href="https://www.npmjs.com/package/express-session">æ–‡æ¡£</a></p>
<blockquote>
<p>HTTPæ˜¯æ— çŠ¶æ€çš„åè®®ï¼ŒSessionå°±æ˜¯åˆ©ç”¨cookieï¼Œå®ç°çš„â€œä¼šè¯â€ã€‚å°±æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šä¸ºè¿™ä¸ªç”¨æˆ·ç¼“å­˜ä¸€äº›ä¿¡æ¯ã€‚æœåŠ¡å™¨ä¼šä¸‹å‘ä¸€ä¸ªç§˜é’¥ï¼ˆcookieï¼‰ï¼Œå®¢æˆ·ç«¯æ¯æ¬¡è®¿é—®éƒ½æºå¸¦è¿™ä¸ªç§˜é’¥ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å¦‚æœå‘ç°è¿™ä¸ªç§˜é’¥å»åˆï¼Œå°±èƒ½å¤Ÿæ˜¾ç¤ºè¿™ä¸ªç”¨æˆ·æ›¾ç»ä¿å­˜çš„ä¿¡æ¯ã€‚</p>
</blockquote>
<p>ä½¿ç”¨éœ€è¦ä¸‹è½½<br>
<strong>å¼•å…¥</strong></p>
<pre><code class="language-javascript">var session = require(&quot;express-session&quot;);

app.use(session({
    secret: 'keyboard cat',
    resave: false,
    saveUninitialized: true
}));
</code></pre>
<p><strong>è®¾ç½®</strong></p>
<pre><code class="language-javascript">app.get(&quot;/login&quot;,function(req,res){
	req.session.login = &quot;1&quot;;	//è®¾ç½®è¿™ä¸ªsession
	res.send(&quot;ä½ å·²ç»æˆåŠŸç™»é™†&quot;);
});
</code></pre>
<p><strong>è·å–</strong></p>
<pre><code class="language-javascript">app.get(&quot;/&quot;,function(req,res){
	console.log(req.sission.login);
});
</code></pre>
<hr>
<h5 id="md5">MD5</h5>
<p>nodeä¸­cryptoæ¨¡å—<br>
<a href="http://nodejs.cn/api/crypto.html">æ–‡æ¡£</a></p>
<blockquote>
<p>MD5åŠ å¯†æ˜¯å‡½æ•°å‹åŠ å¯†<br>
ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ul>
<li>ä»»æ„é•¿åº¦çš„æ•°æ®ï¼Œç®—å‡ºçš„MD5å€¼é•¿åº¦éƒ½æ˜¯å›ºå®šçš„</li>
<li>å¯¹åŸæ•°æ®è¿›è¡Œä»»ä½•æ”¹åŠ¨ï¼Œå“ªæ€•åªä¿®æ”¹1ä¸ªå­—èŠ‚ï¼Œæ‰€å¾—åˆ°çš„MD5å€¼éƒ½æœ‰å¾ˆå¤§åŒºåˆ«</li>
<li>MD5æ²¡æœ‰åå‡½æ•°ç ´è§£çš„å¯èƒ½</li>
</ul>
<pre><code class="language-javascript">var crypto = require(&quot;crypto&quot;);
var md5 = crypto.createHash('md5');
var password = md5.update(password).digest('base64');
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ nodeä¸­ä½¿ç”¨MongoDB]]></title>
        <id>https://doupo.github.io/post/node-zhong-shi-yong-mongodb/</id>
        <link href="https://doupo.github.io/post/node-zhong-shi-yong-mongodb/">
        </link>
        <updated>2021-02-23T01:49:41.000Z</updated>
        <content type="html"><![CDATA[<p>@(jså­¦ä¹ ç¬”è®°)</p>
<h2 id="nodeä¸­ä½¿ç”¨mongodb">nodeä¸­ä½¿ç”¨MongoDB</h2>
<blockquote>
<p>Node.js è¿æ¥ MongoDBï¼Œå°è£…ç®€æ˜“çš„å¢åˆ æ”¹æŸ¥çš„æ¨¡å—</p>
</blockquote>
<hr>
<p>[toc]</p>
<h3 id="ä½¿ç”¨">ä½¿ç”¨</h3>
<p>æœ¬æœºç¯å¢ƒï¼š<br>
ç³»ç»Ÿï¼šMAC OS 10.12.4<br>
nodeï¼š6.2.0<br>
npmï¼š3.8.9<br>
Mongodbï¼š3.4.6</p>
<h3 id="åˆ›å»º-nodejs-åº”ç”¨">åˆ›å»º Node.js åº”ç”¨</h3>
<h4 id="å¼•å…¥æ¨¡å—">å¼•å…¥æ¨¡å—</h4>
<p>å¼•å…¥æ¨¡å—ï¼š<code>express</code> ï¼Œ <code>mongodb</code></p>
<pre><code class="language-javascript">//å¼•å…¥æ¨¡å—
var express = require('express');
var app = express();

var MongoClient = require('mongodb').MongoClient;
var url = 'mongodb://localhost:27017/test';
</code></pre>
<h4 id="åˆ›å»ºæœåŠ¡å™¨">åˆ›å»ºæœåŠ¡å™¨</h4>
<p>åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œç›‘å¬æœ¬åœ°çš„8080ç«¯å£</p>
<pre><code class="language-javascript">app.get('/', function (req, res) {
    res.send('hello node')
});

app.listen(8080, 'localhost');
</code></pre>
<h3 id="æ•°æ®åº“æ“ä½œ">æ•°æ®åº“æ“ä½œ</h3>
<p>æ³¨ï¼šè¿˜æœ‰äº›å…¶ä»–çš„æ–¹æ³•ï¼ˆåˆ é™¤ä¸€ä¸ªï¼Œæ›¿æ¢ç­‰ï¼‰ï¼Œå¯ä»¥è§å®˜æ–¹æ–‡æ¡£<br>
<a href="https://docs.mongodb.com/getting-started/node/client/">æ–‡æ¡£</a></p>
<h5 id="åˆ›å»ºæ–‡ä»¶">åˆ›å»ºæ–‡ä»¶</h5>
<blockquote>
<p>å› ä¸ºéœ€è¦å°†å¸¸ç”¨çš„æ“ä½œå°è£…ï¼Œæ‰€ä»¥å•ç‹¬æ–°å»ºäº†ä¸€ä¸ª<code>module/db.js</code>å¼•å…¥</p>
</blockquote>
<h5 id="é…ç½®è·¯å¾„">é…ç½®è·¯å¾„</h5>
<pre><code class="language-javascript">exports.Url = 'mongodb://localhost:27017/test';
</code></pre>
<h5 id="è¿æ¥æ•°æ®åº“">è¿æ¥æ•°æ®åº“</h5>
<pre><code class="language-javascript">//è¿æ¥æ•°æ®åº“
function connectDB(callback) {
    var url = dataUrl.Url;
    MongoClient.connect(url, function (err, db) {
        if (err) {
            console.log(err);
            return;
        }
        callback(db);
    });
}
</code></pre>
<h4 id="å¢">å¢</h4>
<p><strong>æ¨¡å—</strong><br>
å‡½æ•°æ¥å—3ä¸ªå‚æ•°ï¼Œé›†åˆåï¼Œæ–°å¢çš„æ•°æ®ï¼Œå›è°ƒå‡½æ•°</p>
<pre><code class="language-javascript">// ######æ–°å¢æ•°æ®
exports.insertOne = function (collectionName, json, callback) {
    connectDB(function (db) {
        // æ¥å—å¤–éƒ¨ä¼ å…¥çš„æ•°æ® é›†åˆåå­— ï¼Œæ•°æ®json ï¼Œå›è°ƒå‡½æ•°
        db.collection(collectionName).insertOne(json, function (err, result) {
            callback(err, result);
            db.close();
        });
    });
}
</code></pre>
<p><strong>è°ƒç”¨</strong></p>
<pre><code class="language-javascript">app.get('/', function (req, res) {
    db.insertOne('cs',{'name': 'yue2','age': 12}, function (err, result) {
        if(err){
            res.send('æ’å…¥æ•°æ®å¤±è´¥');
            return;
        }
        res.send('æˆåŠŸ');
    })
});
app.listen(8888, 'localhost');
</code></pre>
<p>å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨æ‰“å¼€<code>localhost:8080</code>å°±ä¼šåƒæ•°æ®åº“(testä¸‹çš„cs)æ’å…¥ä¸€æ¡<code>{'name': 'yue2','age': 12}</code>æ•°æ®</p>
<h4 id="åˆ ">åˆ </h4>
<p><strong>æ¨¡å—</strong></p>
<pre><code class="language-javascript">// ######åˆ é™¤æ•°æ®
exports.deleteMany = function (collectionName, json, callback) {
    connectDB(function (db) {
        db.collection(collectionName).deleteMany(
            json,
            function (err, results) {
                callback(err, results);
                db.close();
            }
        );
    });
}

</code></pre>
<p><strong>è°ƒç”¨</strong></p>
<pre><code class="language-javascript">app.get('/', function (req, res) {
    db.deleteMany('cs',{'name': 'yue2'}, function (err, result) {
        if(err){
            res.send('åˆ é™¤æ•°æ®å¤±è´¥');
            return;
        }
        res.send(result);
    })
});
app.listen(8888, 'localhost');
</code></pre>
<p>åˆ é™¤æ‰€æœ‰<code>name:yue2</code>çš„æ•°æ®</p>
<h4 id="æ”¹">æ”¹</h4>
<p>ä¿®æ”¹æ•°æ®ï¼Œæ¥å—4ä¸ªå‚æ•°<br>
é›†åˆåï¼Œéœ€è¦è¢«ä¿®æ”¹çš„æ•°æ®ï¼Œä¿®æ”¹çš„æ•°æ®ï¼Œå›è°ƒå‡½æ•°<br>
<strong>æ¨¡å—</strong></p>
<pre><code class="language-javascript">// ######ä¿®æ”¹æ•°æ®
exports.updateMany = function (collectionName, oldJson, newJson, callback) {
    connectDB(function (db) {
        db.collection(collectionName).updateMany(
            oldJson,
            newJson,
            function (err, results) {
                callback(err, results);
                db.close();
            });
    });
}
</code></pre>
<p><strong>è°ƒç”¨</strong></p>
<pre><code class="language-javascript">app.get('/', function (req, res) {
    db.updateMany('cs',{'name':'yue'},{$set:{'name':123}}, function (err, result) {
        if(err){
            res.send('æ•°æ®ä¿®æ”¹å¤±è´¥');
            return;
        }

        res.send(result);

    })
});
</code></pre>
<p>å°†æ‰€æœ‰name:yueçš„æ•°æ®ä¿®æ”¹ä¸ºname:123</p>
<h4 id="æŸ¥">æŸ¥</h4>
<p><strong>æŸ¥è¯¢æ•°æ®</strong><br>
å› ä¸ºä¼šæ¶‰åŠåˆ°æœ‰äº›å‚æ•°éå¿…å¡«é¡¹</p>
<blockquote>
<p>å‚æ•°ä¸ºï¼šé›†åˆåå­—ï¼ŒæŸ¥è¯¢çš„æ¡ä»¶ï¼Œlimitå’Œskipï¼Œå›è°ƒå‡½æ•°ï¼Œæ’åºæ–¹å¼<br>
æŸ¥è¯¢æ¡ä»¶å¯ä»¥ä¸ºç©ºï¼Œé»˜è®¤ä¸ºæŸ¥è¯¢å…¨éƒ¨<br>
limitå’Œskipå¯ä»¥ä¸ºç©ºï¼Œé»˜è®¤ä¸ºå…¨éƒ¨</p>
<ul>
<li>limitå’Œskipé…åˆå¯ä»¥ç”¨æ¥åšåˆ†é¡µæ•ˆæœ<br>
æ’åºæ–¹å¼å¯ä»¥ä¸ºç©ºï¼Œé»˜è®¤æ­£åº</li>
</ul>
</blockquote>
<p><strong>æ¨¡å—</strong></p>
<pre><code class="language-javascript">// ######æŸ¥æ‰¾æ•°æ®
exports.find = function (collectionName, json, pageJson, callback, sortJson) {
    connectDB(function (db) {
        if (pageJson.pageNum || pageJson.pageNum == 0) {
            var limitNum = pageJson.pageSize;
            var skipNum = pageJson.pageSize * pageJson.pageNum;
        } else {
            var limitNum = 0;
            var skipNum = 0;
        }

        var resultData = [];
        var cursor = db.collection(collectionName).find(json).limit(limitNum).skip(skipNum).sort(sortJson);
        cursor.each(function (err, doc) {
            if (err) {
                db.close();
                callback(err, null);
                return;
            }
            if (doc != null) {
                resultData.push(doc);
            } else {
                callback(null, resultData);
                db.close();
            }
        });

    });
}
</code></pre>
<p><strong>è°ƒç”¨</strong></p>
<pre><code class="language-javascript">// å‡½æ•°é»˜è®¤å€¼
app.get('/', function (req, res) {
    db.find('mess', {}, {'pageSize': 4, 'pageNum': 0}, function (err, result) {
        if (err) {
            res.end(-1);
            return;
        }
        console.log(result)
        res.render('message', {
            dataJson: result
        });
    }, {'dataTime': -1})
});
</code></pre>
<p>è¿™é‡Œä½¿ç”¨<code>req.query.page</code>è·å–æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œåšåˆ†é¡µ<br>
æµè§ˆå™¨<code>localhost/read?page=0</code> å¯ä»¥è·å–ä¸åŒçš„æ•°æ®</p>
<p><strong>æŸ¥è¯¢æ•°æ®æ•°é‡</strong><br>
<strong>æ¨¡å—</strong><br>
å‚æ•°ä¸ºï¼šé›†åˆåï¼Œéœ€è¦æŸ¥è¯¢çš„æ•°æ®ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰ï¼Œå›è°ƒå‡½æ•°</p>
<pre><code class="language-javascript">// è·å–æ•°æ®çš„æ¡æ•°
exports.findDataNum = function (collectionName, json, callback) {
    connectDB(function (db) {
        var collection = db.collection(collectionName);
        collection.count(json).then(function (count) {
            callback(count);
            db.close();
        })
    });
}
</code></pre>
<p><strong>è°ƒç”¨</strong></p>
<pre><code class="language-javascript">db.findDataNum('mess',{}, function (result) {
    console.log(result)
})
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[es6]]></title>
        <id>https://doupo.github.io/post/es6/</id>
        <link href="https://doupo.github.io/post/es6/">
        </link>
        <updated>2021-02-23T01:47:38.000Z</updated>
        <content type="html"><![CDATA[<p>@(jså­¦ä¹ ç¬”è®°)</p>
<h1 id="ecmascript-6">ECMAScript 6</h1>
<p>[toc]</p>
<h2 id="letå’Œconstå‘½ä»¤">letå’Œconstå‘½ä»¤</h2>
<h3 id="letå‘½ä»¤">letå‘½ä»¤</h3>
<h4 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</h4>
<p>ES6æ–°å¢äº†letå‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡ã€‚å®ƒçš„ç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚</p>
<pre><code class="language-javascript">{
		var a = 100;
		let b = 200;
	}
	console.log(a);	//100
	console.log(b);	//b is not defined -- Error
</code></pre>
<h4 id="ä¸å­˜åœ¨å˜é‡æå‡">ä¸å­˜åœ¨å˜é‡æå‡</h4>
<p>letä¸åƒvaré‚£æ ·ï¼Œä¼šå‘ç”Ÿâ€œå˜é‡æå‡â€ç°è±¡ã€‚</p>
<pre><code class="language-javascript">//ES5
	console.log(&quot;ES5:&quot;);
	var a = [];
	for (var i = 0; i &lt; 10; i++) {
		var c = i;
		a[i] = function () {
			console.log(c);
		};
	};
	a[5]();	//9

	//ES6
	console.log(&quot;ES6:&quot;);
	var b = [];
	for (var j = 0; j &lt; 10; j++) {
		let d = j;
		b[j] = function () {
			console.log(d);
		};
	};
	b[5]();	//5

/////////////
console.log(a)   //undefined
var a=1;        //é¢„è§£æå˜é‡æå‡

console.log(a)   //æŠ¥é”™a is not defined
let a=1;        //ä¸å­˜åœ¨å˜é‡æå‡
</code></pre>
<h4 id="æš‚æ—¶æ€§æ­»åŒº">æš‚æ—¶æ€§æ­»åŒº</h4>
<p>åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨letå‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€ï¼ˆbindingï¼‰è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ã€‚</p>
<pre><code class="language-javascript">	var a = 10;
        {
            //console.log(a);	//a is not defined
            let a = 100;
            console.log(a);	//100
        }

        console.log(a); //10
</code></pre>
<h4 id="ä¸å…è®¸é‡å¤å£°æ˜">ä¸å…è®¸é‡å¤å£°æ˜</h4>
<p>letä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚</p>
<pre><code class="language-javascript">var a=1;
let a=1;
//æŠ¥é”™Identifier 'a' has already been declared â€œaâ€å·²è¢«å£°æ˜

let a=1;
let a=1;
//æŠ¥é”™åŒä¸Š
</code></pre>
<h3 id="constå‘½ä»¤">constå‘½ä»¤</h3>
<h4 id="constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡-ä¸€æ—¦å£°æ˜å¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜">constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</h4>
<blockquote>
<p>1.ä¸å¯æ”¹å˜ï¼Œä¸å¯é‡å¤å£°æ˜<br>
2.å—çº§ä½œç”¨åŸŸ<br>
3.åŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œå˜é‡ä¸æå‡ï¼Œå£°æ˜åä½¿ç”¨<br>
4.ç”³æ˜æ—¶å¿…é¡»èµ‹å€¼<br>
5.ç”³æ˜ä¸ºç®€å•æ•°æ®ç±»å‹æ—¶å€¼ä¸å¯æ”¹å˜ï¼Œå¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ™å¼•ç”¨ä¸å¯æ”¹å˜ï¼Œå†…éƒ¨æ•°æ®å¯ä»¥æ”¹å˜</p>
</blockquote>
<pre><code class="language-javascript">		const a = [];
        a.push('Hello'); // å¯æ‰§è¡Œ
        console.log(a);  //['Hello']
        a.length = 0;    // å¯æ‰§è¡Œ
        console.log(a);  //[]
        a=[]//æŠ¥é”™Assignment to constant variable.
</code></pre>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¸¸é‡aæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„æœ¬èº«æ˜¯å¯å†™çš„ï¼Œä½†æ˜¯å¦‚æœå°†å¦ä¸€ä¸ªæ•°ç»„èµ‹å€¼ç»™aï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<hr>
<h2 id="å˜é‡çš„è§£æ„èµ‹å€¼">å˜é‡çš„è§£æ„èµ‹å€¼</h2>
<p><a href="http://es6.ruanyifeng.com/#docs/destructuring">é“¾æ¥</a></p>
<h3 id="æ¦‚å¿µ">æ¦‚å¿µ</h3>
<blockquote>
<p>ä¸€ç§åŒ¹é…æ¨¡å¼ï¼Œåªè¦ç­‰å·ä¸¤æ­¥æ¨¡å¼ç›¸åŒï¼Œåˆ™å·¦è¾¹çš„å˜é‡å°±å¯ä»¥è¢«èµ‹äºˆå¯¹åº”çš„å€¼</p>
</blockquote>
<h3 id="è§£æ„èµ‹å€¼ä¸»è¦åˆ†ä¸º">è§£æ„èµ‹å€¼ä¸»è¦åˆ†ä¸º</h3>
<h4 id="1æ•°ç»„çš„è§£æ„èµ‹å€¼">1.æ•°ç»„çš„è§£æ„èµ‹å€¼</h4>
<pre><code class="language-javascript">let [a,b,c]=[1,2,3];
console.log(a,b,c);    //1  2  3

let [a, [[b], c]] = [1, [[2], 3]];
console.log(a, b, c);    //1  2  3

let [, , c] = [1, 2, 3];
console.log(c);    // 3

let [x]=[];
console.log(x); //undefined
</code></pre>
<h5 id="å¸¦æœ‰é»˜è®¤å€¼çš„è§£æ„èµ‹å€¼">å¸¦æœ‰é»˜è®¤å€¼çš„è§£æ„èµ‹å€¼</h5>
<pre><code class="language-javascript">let [a='1']=[];
console.log(a);  //1

let [a='1']=[2];
console.log(a);  //2
</code></pre>
<h4 id="2å¯¹è±¡çš„è§£æ„èµ‹å€¼">2.å¯¹è±¡çš„è§£æ„èµ‹å€¼</h4>
<pre><code class="language-javascript">let { a, b } = { a: 1, b: 'bb' };
console.log(typeof a, b);      //number bb

let { a: b, c } = { a: 1, c: 2 };  //è¿™ç§æ¨¡å¼ï¼Œaä¸ºå±æ€§å
console.log(b, c);  //1
console.log(a);  //a is not defined
</code></pre>
<h4 id="3åŸºæœ¬ç±»å‹çš„è§£æ„èµ‹å€¼">3.åŸºæœ¬ç±»å‹çš„è§£æ„èµ‹å€¼</h4>
<p><strong>æ³¨</strong>null å’Œ undefined ä¸èƒ½è¿›è¡Œè§£æ„èµ‹å€¼</p>
<pre><code class="language-javascript">let [a, b, c, d] = '1234';
console.log(a, b, c, d);  //1 2 3 4
</code></pre>
<h5 id="lengthå±æ€§è§£æ„èµ‹å€¼">lengthå±æ€§è§£æ„èµ‹å€¼</h5>
<pre><code class="language-javascript">let { length: len } = '123a';
console.log(len);  //4   å­—ç¬¦é•¿åº¦ 


let {toString: a1} = 1;
let {toString: a2} = true;
console.log(a1 === Number.prototype.toString);	//true
console.log(a2 === Boolean.prototype.toString);	//true
</code></pre>
<hr>
<h2 id="setæ•°æ®ç»“æ„">setæ•°æ®ç»“æ„</h2>
<h3 id="åŸºæœ¬ç”¨æ³•-2">åŸºæœ¬ç”¨æ³•</h3>
<blockquote>
<p>ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„ Setã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚<br>
Set æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„ã€‚</p>
</blockquote>
<h4 id="åˆ›å»ºä¸€ä¸ªset">åˆ›å»ºä¸€ä¸ªset</h4>
<pre><code class="language-javascript">const newSet=new Set([1,2,3]);
console.log(newSet);  //{1, 2, 3}
console.log(typeof newSet);  //object
</code></pre>
<h4 id="setçš„å±æ€§">setçš„å±æ€§</h4>
<pre><code class="language-javascript">const newSet=new Set([1,2,3]);
console.log(newSet.size);  //3
</code></pre>
<h4 id="setä¸­çš„æ–¹æ³•">setä¸­çš„æ–¹æ³•</h4>
<h5 id="1-setaddvalue-æ·»åŠ æ•°æ®">1-set.add(value) æ·»åŠ æ•°æ®</h5>
<blockquote>
<p>æ·»åŠ ä¸€ä¸ªæ•°æ®ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚æ‰€ä»¥ä¹Ÿå¯ä»¥é“¾å¼æ·»åŠ æ•°æ®</p>
</blockquote>
<pre><code class="language-javascript">const newSet=new Set([1,2,3]);
console.log(newSet.add(4).add(5));  //{1, 2, 3, 4, 5}
</code></pre>
<h5 id="2-setdeletevalue-åˆ é™¤æ•°æ®">2-set.delete(value) åˆ é™¤æ•°æ®</h5>
<blockquote>
<p>åˆ é™¤æŒ‡å®šæ•°æ®ï¼Œè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦åˆ é™¤æˆåŠŸ</p>
</blockquote>
<pre><code class="language-javascript">const newSet=new Set([1,2,3]);
console.log(newSet.delete(1));  //true
console.log(newSet);  //{2, 3}
</code></pre>
<h5 id="3-sethasvalue-åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨">3-set.has(value) åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨</h5>
<blockquote>
<p>åˆ¤æ–­è¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ï¼Œåå›ä¸€ä¸ªå¸ƒå°”å€¼</p>
</blockquote>
<pre><code class="language-javascript">const newSet=new Set([1,2,3]);
console.log(newSet.has(1));  //true
console.log(newSet.has(6));  //false
</code></pre>
<h5 id="4-setclear-æ¸…é™¤æ•°æ®">4-set.clear() æ¸…é™¤æ•°æ®</h5>
<blockquote>
<p>æ¸…é™¤æ‰€æœ‰æ•°æ®ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p>
</blockquote>
<pre><code class="language-javascript">const newSet=new Set([1,2,3]);
newSet.clear();  
console.log(newSet);  //{}
</code></pre>
<h4 id="éå†æ“ä½œ">éå†æ“ä½œ</h4>
<blockquote>
<p><code>keys</code>æ–¹æ³•ã€<code>values</code>æ–¹æ³•ã€<code>entries</code>æ–¹æ³•è¿”å›çš„éƒ½æ˜¯**<code>éå†å™¨å¯¹è±¡</code>**ã€‚ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥<code>keys</code>æ–¹æ³•å’Œ<code>values</code>æ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚</p>
</blockquote>
<p><strong>æ³¨</strong></p>
<blockquote>
<p>éå†å™¨å¯¹è±¡å¯ç”¨<code>for..of</code>è·å–</p>
</blockquote>
<h5 id="1-keys-è¿”å›é”®å">1-keys() è¿”å›é”®å</h5>
<pre><code class="language-javascript">const newSet=new Set([1,2,3]);
console.log(newSet.keys());     //SetIterator {1, 2, 3}
console.log(newSet.values());   //SetIterator {1, 2, 3}
</code></pre>
<h5 id="2-values-è¿”å›é”®å€¼">2-values() è¿”å›é”®å€¼</h5>
<blockquote>
<p>æ•ˆæœåŒä¸Š</p>
</blockquote>
<h5 id="3-entries-è¿”å›é”®å€¼å¯¹">3-entries() è¿”å›é”®å€¼å¯¹</h5>
<pre><code class="language-javascript">const newSet = new Set([1, 2, 3]);
        for (let item of newSet.entries()) {
            console.log(item);
            };
        /*
        [1, 1]
        [2, 2]
        [3, 3]
        */
</code></pre>
<h5 id="4-foreach-ä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜">4-forEach() ä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</h5>
<blockquote>
<p>å›è°ƒå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯é”®ï¼Œç¬¬ä¸‰ä¸ªæ˜¯æ•°æ®æœ¬èº«</p>
</blockquote>
<pre><code class="language-javascript">const newSet = new Set([1, 2, 3, 'a']);
newSet.forEach(function (key, value, Set) {
    console.log(value + 1);
});
// 2  3  4  a1

console.log(newSet);   //{1, 2, 3, &quot;a&quot;}  newSetæ²¡æœ‰è¢«ä¿®æ”¹
</code></pre>
<hr>
<h2 id="mapæ•°æ®ç»“æ„">Mapæ•°æ®ç»“æ„</h2>
<h3 id="å«ä¹‰å’ŒåŸºæœ¬ç”¨æ³•">å«ä¹‰å’ŒåŸºæœ¬ç”¨æ³•</h3>
<p>JavaScript çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼ˆHash ç»“æ„ï¼‰ï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚è¿™ç»™å®ƒçš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶ã€‚</p>
<pre><code class="language-javascript">const data = {};
const element = document.getElementById('myDiv');

data[element] = 'metadata';
data['[object HTMLDivElement]'] // &quot;metadata&quot;
</code></pre>
<p>ä¸Šé¢ä»£ç åŸæ„æ˜¯å°†ä¸€ä¸ª DOM èŠ‚ç‚¹ä½œä¸ºå¯¹è±¡<code>data</code>çš„é”®ï¼Œä½†æ˜¯ç”±äºå¯¹è±¡åªæ¥å—å­—ç¬¦ä¸²ä½œä¸ºé”®åï¼Œæ‰€ä»¥<code>element</code>è¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²<code>[object HTMLDivElement]</code>ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 æä¾›äº† Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒObject ç»“æ„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼ŒMapç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æ„å®ç°ã€‚å¦‚æœä½ éœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æ„ï¼ŒMap æ¯” Object æ›´åˆé€‚ã€‚</p>
<pre><code class="language-javascript">const m = new Map();
const o = {p: 'Hello World'};

m.set(o, 'content')
m.get(o) // &quot;content&quot;

m.has(o) // true
m.delete(o) // true
m.has(o) // false
</code></pre>
<p>ä¸Šé¢ä»£ç ä½¿ç”¨ Map ç»“æ„çš„<code>set</code>æ–¹æ³•ï¼Œå°†å¯¹è±¡<code>o</code>å½“ä½œ<code>m</code>çš„ä¸€ä¸ªé”®ï¼Œç„¶ååˆä½¿ç”¨<code>get</code>æ–¹æ³•è¯»å–è¿™ä¸ªé”®ï¼Œæ¥ç€ä½¿ç”¨<code>delete</code>æ–¹æ³•åˆ é™¤äº†è¿™ä¸ªé”®ã€‚</p>
<blockquote>
<p><a href="http://es6.ruanyifeng.com/?search=set&amp;x=0&amp;y=0#docs/set-map">ä¸Šé¢è¿™æ®µæ¥æºäºé˜®ä¸€å³° ES 6 æ ‡å‡†å…¥é—¨</a></p>
</blockquote>
<hr>
<h4 id="åˆ›å»ºä¸€ä¸ªmap">åˆ›å»ºä¸€ä¸ªMap</h4>
<pre><code class="language-javascript">const map = new Map([
    ['a', 1],
    ['b', 2]
]);

console.log(map);   // {&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 2}
</code></pre>
<h4 id="mapçš„å±æ€§">Mapçš„å±æ€§</h4>
<pre><code class="language-javascript">const map = new Map([
    ['a', 1],
    ['b', 2]
]);
console.log(map.size);  //2
</code></pre>
<h4 id="mapä¸­çš„æ–¹æ³•">Mapä¸­çš„æ–¹æ³•</h4>
<h5 id="1-mapsetkey-value-æ·»åŠ æ•°æ®">1-Map.set(key, value) æ·»åŠ æ•°æ®</h5>
<blockquote>
<p>æ·»åŠ é”®åä¸º<code>key</code>é”®å€¼ä¸º<code>value</code>çš„æ•°æ®ï¼Œç„¶åè¿”å›æ•´ä¸ª <code>Map</code>ã€‚å¦‚æœ<code>key</code>å·²ç»å­˜åœ¨ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆæ•°æ®ã€‚<br>
<strong>å¯ä»¥ä½¿ç”¨é“¾å¼æ·»åŠ </strong></p>
</blockquote>
<pre><code class="language-javascript">const map = new Map([
    ['m1', 'm']
]);
map.set('a1', 1).set('b1', '2').set('c1', '3');
console.log(map);   
//{&quot;m1&quot; =&gt; &quot;m&quot;, &quot;a1&quot; =&gt; 1, &quot;b1&quot; =&gt; &quot;2&quot;, &quot;c1&quot; =&gt; &quot;3&quot;}
</code></pre>
<h5 id="2-mapgetkey-è·å–æ•°æ®">2-Map.get(key)  è·å–æ•°æ®</h5>
<blockquote>
<p>è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ° keyï¼Œè¿”å›undefinedã€‚</p>
</blockquote>
<pre><code class="language-javascript">const map = new Map([
    ['a1', '1'],
    ['b1', '2'],
    ['c1', '3']
]);
console.log(map.get('a1'));   //1
console.log(map.get('d'));   //undefined
</code></pre>
<h5 id="3-mapdeletekey-åˆ é™¤æ•°æ®">3-Map.delete(key) åˆ é™¤æ•°æ®</h5>
<blockquote>
<p>åˆ é™¤æŸä¸ªé”®ï¼Œæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­æ˜¯å¦åˆ é™¤æˆåŠŸ</p>
</blockquote>
<pre><code class="language-javascript">const map = new Map([
    ['a1', '1'],
    ['b1', '2'],
    ['c1', '3']
]);
console.log(map.delete('a1'));   //true
console.log(map.delete('d'));   //false
console.log(map);   //{&quot;b1&quot; =&gt; &quot;2&quot;, &quot;c1&quot; =&gt; &quot;3&quot;}
</code></pre>
<h5 id="4-maphaskey-åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨">4-Map.has(key)  åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨</h5>
<blockquote>
<p>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨</p>
</blockquote>
<pre><code class="language-javascript">const map = new Map([
    ['a1', '1'],
    ['b1', '2'],
    ['c1', '3']
]);
console.log(map.has('a1'));   //true
console.log(map.has('d'));   //false
</code></pre>
<h5 id="5-mapclear-æ¸…é™¤æ•°æ®">5-Map.clear() æ¸…é™¤æ•°æ®</h5>
<blockquote>
<p>æ¸…é™¤æ‰€æœ‰æ•°æ®ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p>
</blockquote>
<pre><code class="language-javascript">const map = new Map([
    ['a1', '1'],
    ['b1', '2'],
    ['c1', '3']
]);
map.clear();
console.log(map);   //{}
</code></pre>
<h4 id="éå†æ“ä½œ-2">éå†æ“ä½œ</h4>
<p><strong>æ³¨</strong></p>
<blockquote>
<p>éå†å™¨å¯¹è±¡å¯ç”¨<code>for..of</code>è·å–</p>
</blockquote>
<h5 id="6-mapkeys-è¿”å›é”®å">6-Map.keys() è¿”å›é”®å</h5>
<pre><code class="language-javascript">const map = new Map([
    ['a1', '1'],
    ['b1', '2'],
    ['c1', '3']
]);
console.log(map.keys());  
 //MapIterator {&quot;a1&quot;, &quot;b1&quot;, &quot;c1&quot;}
</code></pre>
<h5 id="7-mapvalues-è¿”å›é”®å€¼">7-Map.values() è¿”å›é”®å€¼</h5>
<pre><code class="language-javascript">console.log(map.values());   
//MapIterator {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;}
</code></pre>
<h5 id="8-mapentries-è¿”å›é”®å€¼å¯¹">8-Map.entries() è¿”å›é”®å€¼å¯¹</h5>
<pre><code class="language-javascript"> const map = new Map([
    ['a1', '1'],
    ['b1', '2'],
    ['c1', '3']
]);
console.log(map.entries());   //MapIterator {&quot;a1&quot; =&gt; &quot;1&quot;, &quot;b1&quot; =&gt; &quot;2&quot;, &quot;c1&quot; =&gt; &quot;3&quot;}

// éå†å™¨å¯¹è±¡è·å–æ•°æ®
for (let item of map.entries()) {
    console.log(item);
};
//['a1', '1'] ['b1', '2'] ['c1', '3']
</code></pre>
<h5 id="9-mapforeach-ä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜">9-Map.forEach() ä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</h5>
<blockquote>
<p>å›è°ƒå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯é”®ï¼Œç¬¬ä¸‰ä¸ªæ˜¯æ•°æ®æœ¬èº«</p>
</blockquote>
<pre><code class="language-javascript">const map1 = new Map([
    ['a1', '1'],
    ['b1', '2'],
    ['c1', '3']
]);
map1.forEach(function (value, key, map) {
    console.log(key);  //a1 b1 c1
})
</code></pre>
<h5 id="map-ä¸­keyå€¼ä¸€äº›æ³¨æ„ç‚¹">Map ä¸­keyå€¼ä¸€äº›æ³¨æ„ç‚¹</h5>
<p>1.NaN===NaN</p>
<pre><code class="language-javascript">const map = new Map([
    ['a1', '1']
]);
map.set(NaN, 1).set(NaN, 2);
console.log(map);   
//{&quot;a1&quot; =&gt; &quot;1&quot;, NaN =&gt; 2}  mapä¸­NaN===NaN
</code></pre>
<p>2.ç©ºå¯¹è±¡ä¸ç›¸ç­‰ï¼Œæ¯”è¾ƒçš„æ˜¯å†…å­˜çš„åœ°å€</p>
<pre><code class="language-javascript">const map = new Map([
    ['a1', '1']
]);
map.set({}, '1').set({}, '2');
console.log(map);   
//{&quot;a1&quot; =&gt; &quot;1&quot;, Object {} =&gt; &quot;1&quot;, Object {} =&gt; &quot;2&quot;}
console.log({} === {}); //false
</code></pre>
<hr>
<h2 id="iteratorå’Œforofå¾ªç¯">Iteratorå’Œfor...ofå¾ªç¯</h2>
<p><a href="http://es6.ruanyifeng.com/#docs/iterator">é˜®ä¸€å³°Iteratorç« èŠ‚</a></p>
<blockquote>
<p>ä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰<code>Symbol.iterator</code>å±æ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯â€œå¯éå†çš„â€ï¼ˆiterableï¼‰ã€‚<br>
åœ¨ES6ä¸­ï¼Œæœ‰ä¸‰ç±»æ•°æ®ç»“æ„åŸç”Ÿå…·å¤‡Iteratoræ¥å£ï¼š</p>
<ul>
<li>1-æ•°ç»„ã€</li>
<li>2-æŸäº›ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆå­˜åœ¨æ•°å€¼é”®åå’Œlengthå±æ€§ï¼‰ï¼‰ã€</li>
<li>3-Setå’ŒMapç»“æ„</li>
<li>4-å­—ç¬¦ä¸²</li>
</ul>
<p><strong>æ³¨</strong> â€” å¯¹è±¡ï¼ˆObjectï¼‰æ²¡æœ‰é»˜è®¤éƒ¨ç½²Iteratoræ¥å£</p>
</blockquote>
<pre><code class="language-javascript">let str = 'abc';
const a1 = str[Symbol.iterator]();
console.log(a1.next());     //{value: &quot;a&quot;, done: false}
console.log(a1.next());     //{value: &quot;b&quot;, done: false}
console.log(a1.next());     //{value: &quot;c&quot;, done: false}
console.log(a1.next());     //{value: undefined, done: true}
</code></pre>
<h4 id="iteratorçš„éå†è¿‡ç¨‹">Iteratorçš„éå†è¿‡ç¨‹</h4>
<p>ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚<br>
ï¼ˆ2ï¼‰ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„<code>next</code>æ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚<br>
ï¼ˆ3ï¼‰ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„<code>next</code>æ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬äºŒä¸ªæˆå‘˜ã€‚<br>
ï¼ˆ4ï¼‰ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„<code>next</code>æ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æ„çš„ç»“æŸä½ç½®ã€‚<br>
æ¯ä¸€æ¬¡è°ƒç”¨<code>next</code>æ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›æ•°æ®ç»“æ„çš„å½“å‰æˆå‘˜çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªåŒ…å«<code>value</code>å’Œ<code>done</code>ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚å…¶ä¸­ï¼Œ<code>value</code>å±æ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œ<code>done</code>å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸã€‚</p>
<h5 id="æ¨¡æ‹Ÿnextæ–¹æ³•è¿”å›å€¼">æ¨¡æ‹Ÿnextæ–¹æ³•è¿”å›å€¼</h5>
<pre><code class="language-javascript">const arr = [1, 2, 3];
function iterator(arr) {
    let index = 0;
    return {
        next: function () {
            return index &lt; arr.length ?
                { value: arr[index++], done: false } :
                { value: undefined, done: true };
        }
    }
};

const it = iterator(arr);   //
console.log(it.next());     //{value: 1, done: false}
console.log(it.next());     //{value: 2, done: false}
console.log(it.next());     //{value: 3, done: false}
console.log(it.next());     //{value: undefined, done: true}
</code></pre>
<h4 id="å…·å¤‡iteratoræ¥å£çš„æ•°æ®ç»“æ„ç‰¹æ€§">å…·å¤‡iteratoræ¥å£çš„æ•°æ®ç»“æ„ç‰¹æ€§</h4>
<h5 id="è§£æ„èµ‹å€¼">è§£æ„èµ‹å€¼</h5>
<pre><code class="language-javascript">const set = new Set(['a', 'b', 'c']);
let [x, y] = set;
console.log(x, y);      //a b
</code></pre>
<h5 id="æ‰©å±•è¿ç®—ç¬¦">æ‰©å±•è¿ç®—ç¬¦</h5>
<pre><code class="language-javascript">let str = 'hellow';
let arrStr = [...str];
console.log(arrStr);    // [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;, &quot;w&quot;]

//æ•°ç»„å»é‡
const arr2 = ['a', 1, 2, 3, 2, 1, 'a', '2'];
console.log([...new Set(arr2)]);    //[&quot;a&quot;, 1, 2, 3, &quot;2&quot;]
</code></pre>
<h4 id="forofå¾ªç¯">for...ofå¾ªç¯</h4>
<blockquote>
<p><code>for...of</code>å¾ªç¯å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„<code>Symbol.iterator</code>æ–¹æ³•</p>
</blockquote>
<p><code>for...of</code>å¾ªç¯å¯ä»¥ä»£æ›¿æ•°ç»„å®ä¾‹çš„<code>forEach</code>æ–¹æ³•ã€‚</p>
<pre><code class="language-javascript">const arr = ['red', 'green', 'blue'];

arr.forEach(function (element, index) {
  console.log(element); // red green blue
  console.log(index);   // 0 1 2
});
</code></pre>
<p>#####éå† Set ç»“æ„å’Œ Map ç»“æ„</p>
<blockquote>
<p>**1-**éå†çš„é¡ºåºæ˜¯æŒ‰ç…§å„ä¸ªæˆå‘˜è¢«æ·»åŠ è¿›æ•°æ®ç»“æ„çš„é¡ºåºã€‚<br>
**2-**Set ç»“æ„éå†æ—¶ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå€¼<br>
<strong>3-</strong> Map ç»“æ„éå†æ—¶ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„çš„ä¸¤ä¸ªæˆå‘˜åˆ†åˆ«ä¸ºå½“å‰ Map æˆå‘˜çš„é”®åå’Œé”®å€¼ã€‚</p>
</blockquote>
<pre><code class="language-javascript">//set
const newSet = new Set([1, 2, 3]);
for (let i of newSet) {
    console.log(i);     //1  2  3
};

//map
const newMap = new Map([
    [1, 2],
    ['a', 3],
    ['c', 4]
]);
for (let i of newMap) {
    console.log(i);     // [1, 2]   [&quot;a&quot;, 3]    [&quot;c&quot;, 4]
};

//ä½¿ç”¨è§£æ„èµ‹å€¼
const newMap = new Map([
    [1, 2],
    ['a', 3],
    ['c', 4]
]);
for (let [key, value] of newMap) {
    console.log(key);     // 1  a   c
    console.log(value);     // 2  3  4
}
</code></pre>
<h4 id="ä¸å…¶ä»–éå†è¯­æ³•çš„æ¯”è¾ƒ">ä¸å…¶ä»–éå†è¯­æ³•çš„æ¯”è¾ƒ</h4>
<blockquote>
<p><a href="http://es6.ruanyifeng.com/#docs/iterator#%E4%B8%8E%E5%85%B6%E4%BB%96%E9%81%8D%E5%8E%86%E8%AF%AD%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83">ä¸‹é¢è¿™æ®µæ¥æºäºé˜®ä¸€å³° ES 6 æ ‡å‡†å…¥é—¨</a></p>
</blockquote>
<p>ä»¥æ•°ç»„ä¸ºä¾‹ï¼ŒJavaScript æä¾›å¤šç§éå†è¯­æ³•ã€‚æœ€åŸå§‹çš„å†™æ³•å°±æ˜¯<code>for</code>å¾ªç¯ã€‚</p>
<pre><code class="language-javascript">for (var index = 0; index &lt; myArray.length; index++) {
  console.log(myArray[index]);
}
</code></pre>
<p>è¿™ç§å†™æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤æ•°ç»„æä¾›å†…ç½®çš„<code>forEach</code>æ–¹æ³•ã€‚</p>
<pre><code class="language-javascript">myArray.forEach(function (value) {
  console.log(value);
});
</code></pre>
<p>è¿™ç§å†™æ³•çš„é—®é¢˜åœ¨äºï¼Œæ— æ³•ä¸­é€”è·³å‡º<code>forEach</code>å¾ªç¯ï¼Œ<code>break</code>å‘½ä»¤æˆ–<code>return</code>å‘½ä»¤éƒ½ä¸èƒ½å¥æ•ˆã€‚</p>
<p><code>for...in</code>å¾ªç¯å¯ä»¥éå†æ•°ç»„çš„é”®åã€‚</p>
<pre><code class="language-javascript">for (var index in myArray) {
  console.log(myArray[index]);
}
</code></pre>
<p><code>for...in</code>å¾ªç¯æœ‰å‡ ä¸ªç¼ºç‚¹ã€‚</p>
<ul>
<li>æ•°ç»„çš„é”®åæ˜¯æ•°å­—ï¼Œä½†æ˜¯<code>for...in</code>å¾ªç¯æ˜¯ä»¥å­—ç¬¦ä¸²ä½œä¸ºé”®åâ€œ0â€ã€â€œ1â€ã€â€œ2â€ç­‰ç­‰ã€‚</li>
<li><code>for...in</code>å¾ªç¯ä¸ä»…éå†æ•°å­—é”®åï¼Œè¿˜ä¼šéå†æ‰‹åŠ¨æ·»åŠ çš„å…¶ä»–é”®ï¼Œç”šè‡³åŒ…æ‹¬åŸå‹é“¾ä¸Šçš„é”®ã€‚</li>
<li>æŸäº›æƒ…å†µä¸‹ï¼Œ<code>for...in</code>å¾ªç¯ä¼šä»¥ä»»æ„é¡ºåºéå†é”®åã€‚</li>
</ul>
<p>æ€»ä¹‹ï¼Œ<code>for...in</code>å¾ªç¯ä¸»è¦æ˜¯ä¸ºéå†å¯¹è±¡è€Œè®¾è®¡çš„ï¼Œä¸é€‚ç”¨äºéå†æ•°ç»„ã€‚</p>
<p><code>for...of</code>å¾ªç¯ç›¸æ¯”ä¸Šé¢å‡ ç§åšæ³•ï¼Œæœ‰ä¸€äº›æ˜¾è‘—çš„ä¼˜ç‚¹ã€‚</p>
<pre><code class="language-javascript">for (let value of myArray) {
  console.log(value);
}
</code></pre>
<ul>
<li>æœ‰ç€åŒ<code>for...in</code>ä¸€æ ·çš„ç®€æ´è¯­æ³•ï¼Œä½†æ˜¯æ²¡æœ‰<code>for...in</code>é‚£äº›ç¼ºç‚¹ã€‚</li>
<li>ä¸åŒç”¨äº<code>forEach</code>æ–¹æ³•ï¼Œå®ƒå¯ä»¥ä¸<code>break</code>ã€<code>continue</code>å’Œ<code>return</code>é…åˆä½¿ç”¨ã€‚</li>
<li>æä¾›äº†éå†æ‰€æœ‰æ•°æ®ç»“æ„çš„ç»Ÿä¸€æ“ä½œæ¥å£ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨breakè¯­å¥ï¼Œè·³å‡º<code>for...of</code>å¾ªç¯çš„ä¾‹å­ã€‚</p>
<pre><code class="language-javascript">const a1 = [1, 2, 3, 4, 5, 6, 7, 8, 8, 9]
for (var n of a1) {
    if (n &gt; 4)
        break;
    console.log(n);     //1  2  3  4
}
</code></pre>
<hr>
<h2 id="classè¯­æ³•">Classè¯­æ³•</h2>
<hr>
<h2 id="symbol">Symbol</h2>
<h3 id="1-ä»€ä¹ˆæ˜¯-symbol">1-ä»€ä¹ˆæ˜¯ Symbol ?</h3>
<p>ES5 çš„å¯¹è±¡å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“é€ æˆå±æ€§åçš„å†²çªã€‚è¿™å°±æ˜¯ ES6 å¼•å…¥<code>Symbol</code>çš„åŸå› ã€‚</p>
<blockquote>
<ul>
<li>Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯ JS ä¸­çš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ã€‚</li>
</ul>
</blockquote>
<p><strong>åŸºæœ¬çš„æ•°æ®ç±»å‹</strong>ï¼š Null Undefined Number Boolean String Symbol<br>
**å¼•ç”¨æ•°æ®ç±»å‹ï¼š**Object</p>
<h4 id="åˆ›å»ºä¸€ä¸ªsymbol">åˆ›å»ºä¸€ä¸ª<code>Symbol</code></h4>
<p>**æ³¨ï¼š**Symbol å‡½æ•°å‰ä¸èƒ½ä½¿ç”¨ new å¦åˆ™ä¼šæŠ¥é”™ï¼ŒåŸå› åœ¨äº Symbol æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚</p>
<pre><code class="language-javascript">let s1 = Symbol();
let s2 = Symbol();
console.log(typeof s1); //symbol
console.log(s1 === s2); //false
</code></pre>
<h5 id="-symbolå‚æ•°">- Symbolå‚æ•°</h5>
<blockquote>
<p>å‡½æ•°æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹Symbolçš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†</p>
</blockquote>
<pre><code class="language-javascript">let s3 = Symbol('a1');
let s4 = Symbol('a2');
console.log(s3, s4);    //Symbol(a1) Symbol(a2)
</code></pre>
<p>æ³¨æ„ï¼Œ<code>Symbol</code>å‡½æ•°çš„å‚æ•°åªæ˜¯è¡¨ç¤ºå¯¹å½“å‰ Symbol å€¼çš„æè¿°ï¼Œå› æ­¤ç›¸åŒå‚æ•°çš„<code>Symbol</code>å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚</p>
<pre><code class="language-javascript">// æ²¡æœ‰å‚æ•°çš„æƒ…å†µ
var s1 = Symbol();
var s2 = Symbol();

s1 === s2 // false

// æœ‰å‚æ•°çš„æƒ…å†µ
var s1 = Symbol('foo');
var s2 = Symbol('foo');

s1 === s2 // false
</code></pre>
<h3 id="2-symbol-æ•°æ®ç±»å‹çš„è½¬æ¢">2-Symbol æ•°æ®ç±»å‹çš„è½¬æ¢</h3>
<p>-1 è½¬æ¢æˆå­—ç¬¦</p>
<pre><code class="language-javascript">console.log(String(Symbol('a1'))); // Symbol(a1)
console.log(Symbol('a2').toString()); // Symbol(a2)
</code></pre>
<p>-2 è½¬æ¢æˆå¸ƒå°”å€¼</p>
<pre><code class="language-javascript">console.log(!!Symbol()); // true
</code></pre>
<p>-3 TypeError: ä¸èƒ½è½¬æ¢æˆæ•°å­—</p>
<pre><code class="language-javascript">console.log(Number(Symbol()));  
</code></pre>
<p>-4 Symbol å€¼ä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è¿›è¡Œè¿ç®—</p>
<pre><code class="language-javascript">console.log(Symbol('1') * 100);  //æŠ¥é”™
</code></pre>
<h3 id="3-ä½œä¸ºå¯¹è±¡çš„å±æ€§å">3-ä½œä¸ºå¯¹è±¡çš„å±æ€§å</h3>
<blockquote>
<p>éœ€è¦ä½¿ç”¨<code>[]</code>ï¼Œè®¾ç½®å’Œè¯»å–</p>
</blockquote>
<pre><code class="language-javascript">let s1 = Symbol('a1');
const obj = {};
obj[s1] = 'hello';
console.log(obj);       //Object {Symbol(a1): &quot;hello&quot;}
console.log(obj[s1]);   //hello

// ç¬¬äºŒç§å†™æ³•
var a = {
  [s1]: 'Hello!'
};
</code></pre>
<p>Symbol ä½œä¸ºå±æ€§åï¼Œè¯¥å±æ€§ä¸ä¼šå‡ºç°åœ¨<code>for...in</code>ã€<code>for...of</code>å¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«<code>Object.keys()</code>ã€<code>Object.getOwnPropertyNames()</code>ã€<code>JSON.stringify()</code>è¿”å›ã€‚<br>
ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¸æ˜¯ç§æœ‰å±æ€§ï¼Œæœ‰ä¸€ä¸ª<code>Object.getOwnPropertySymbols</code>æ–¹æ³•ï¼Œå¯ä»¥è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ Symbol å±æ€§åã€‚</p>
<pre><code class="language-javascript">const cs1 = {
    [Symbol()]: 0,
    [Symbol()]: 1,
    a: 2,
    b: 3
};

console.log(cs1);   // {a: 2, b: 3, Symbol(): 0, Symbol(): 1}
console.log(cs1['Symbol()']);   //undefined æ— æ³•è·å–

for (let i in cs1) {
    console.log(i);
}
//a  b  æ— æ³•è·å–


console.log(Object.getOwnPropertySymbols(cs1));         //[Symbol(), Symbol()]
console.log(cs1[Object.getOwnPropertySymbols(cs1)[0]]); //0
</code></pre>
<hr>
<h2 id="å­—ç¬¦ä¸²çš„æ‰©å±•">å­—ç¬¦ä¸²çš„æ‰©å±•</h2>
<h3 id="æ¨¡æ¿å­—ç¬¦ä¸²">æ¨¡æ¿å­—ç¬¦ä¸²</h3>
<pre><code class="language-javascript">let flag = true;
let data = {
    name: &quot;doupo&quot;,
    age: &quot;18&quot;
}
let html = `&lt;ul&gt;
              &lt;li&gt;
                &lt;span&gt;${'é¦–é¡µ'}&lt;/span&gt;        //æ·»åŠ å­—ç¬¦
                &lt;span&gt;${data.name}&lt;/span&gt;   //å¤–éƒ¨æ•°æ®
                &lt;span class=&quot;${flag ? 'show' : 'hide'}&quot;&gt;&lt;/span&gt; //åŠ¨æ€class
              &lt;/li&gt;
            &lt;/ul&gt;`;

console.log(html);
    /*
        &lt;ul&gt;
              &lt;li&gt;
                &lt;span&gt;é¦–é¡µ&lt;/span&gt;        &lt;!--æ·»åŠ å­—ç¬¦--&gt;
                &lt;span&gt;doupo&lt;/span&gt;
                &lt;span class=&quot;show&quot;&gt;&lt;/span&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
    */
</code></pre>
<h3 id="å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•">å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•</h3>
<h4 id="repeatæ–¹æ³•">repeatæ–¹æ³•</h4>
<blockquote>
<p>å°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡è¿”å›<br>
å‚æ•°ä¸º0è¿”å›ç©ºå­—ç¬¦</p>
</blockquote>
<pre><code class="language-javascript">let a = 'a1';
console.log(a.repeat(3));   //a1a1a1
</code></pre>
<h4 id="includes-startswith-endswith">includes() startsWith() endsWith()</h4>
<blockquote>
<p>includes()ï¼šè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥æ‰¾å‚æ•°å­—ç¬¦æ˜¯å¦å­˜åœ¨<br>
startsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œä»å¤´éƒ¨å¼€å§‹æŸ¥æ‰¾å‚æ•°å­—ç¬¦<br>
endsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œä»å°¾éƒ¨å¼€å§‹æŸ¥æ‰¾å‚æ•°å­—ç¬¦</p>
</blockquote>
<pre><code class="language-javascript">let str1 = &quot;doupo&quot;;
console.log(str1.includes('dou'));  //true
console.log(str1.includes('du'));  //false
console.log(str1.includes('o', 3));  //true  

console.log(str1.startsWith('dou'));  //true  å¤´éƒ¨å¼€å§‹æœç´¢
console.log(str1.startsWith('ou'));  //false  
console.log(str1.startsWith('ou', 1));  //true  

console.log(str1.endsWith('po'));  //true  å°¾éƒ¨å¼€å§‹æœç´¢
console.log(str1.endsWith('p', str1.length - 1));  //true  
</code></pre>
<p><code>includes() startsWith()</code>è¿™ä¸¤ä¸ªæ–¹æ³•ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ˜¯ä»å‚æ•°å¼€å§‹ä½ç½®==&gt;å­—ç¬¦ç»“å°¾	ï¼ˆæ­£ï¼‰<br>
<code>endsWith()</code>è¡¨ç¤ºæ˜¯ä»å‚æ•°ä½ç½®==&gt;å­—ç¬¦å¼€å§‹ï¼ˆå€’ï¼‰</p>
<h4 id="å­—ç¬¦ä¸²è¡¥å…¨">å­—ç¬¦ä¸²è¡¥å…¨</h4>
<blockquote>
<p><code>padStart()</code>ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼Œ<code>padEnd()</code>ç”¨äºå°¾éƒ¨è¡¥å…¨</p>
</blockquote>
<pre><code class="language-javascript">let str1 = 'abcd';
console.log(str1.padStart(6, '123456'));     //12abcd  
console.log(str1.padStart(3, '123456'));     //abcd  //å­—ç¬¦åŸé•¿åº¦å¤§äºç­‰äºå‚æ•°çš„é•¿åº¦ï¼Œå°±è¿”å›åŸå­—ç¬¦  
console.log(str1.padStart(6, '1'));     //11abcd 
console.log(str1.padStart(6));     //â€˜  abcdâ€™ ç¬¬äºŒä¸ªå‚æ•°ä¸ºç©ºï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨

// å°¾éƒ¨è¡¥å…¨æ–¹æ³•åŒä¸Š
</code></pre>
<h2 id="æ•°ç»„çš„æ‰©å±•">æ•°ç»„çš„æ‰©å±•</h2>
<h4 id="arrayfrom-ç±»æ•°ç»„è½¬åŒ–ä¸ºæ•°ç»„">Array.from() ç±»æ•°ç»„è½¬åŒ–ä¸ºæ•°ç»„</h4>
<pre><code class="language-javascript">&lt;body&gt;
    &lt;ul&gt;
        &lt;li&gt;1&lt;/li&gt;
        &lt;li&gt;2&lt;/li&gt;
        &lt;li&gt;3&lt;/li&gt;
    &lt;/ul&gt;
    &lt;script&gt;
        let arrayLike = {
            '0': 'a',
            '1': 'b',
            '2': 'c',
            length:3
        };
        let arr2 = Array.from(arrayLike);
        console.log(arr2);  // ['a', 'b', 'c']

        let domlist=document.querySelectorAll('li');
        console.log(domlist);   // [li, li, li]length: 3  0: li 1: li 2: li __proto__: NodeList
        console.log(Array.from(domlist));   //[li, li, li] 0: li 1: li 2: lilength: 3 __proto__: Array(0)
    &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<h4 id="arrayof">Array.of()</h4>
<blockquote>
<p>å°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„</p>
</blockquote>
<pre><code class="language-javascript">let arr1 = Array.of(1, 2, 3);
console.log(arr1);  //[1, 2, 3]
</code></pre>
<h4 id="find-findindex-æŸ¥æ‰¾">find()  findIndex() æŸ¥æ‰¾</h4>
<blockquote>
<p>éƒ½æ˜¯æ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜<br>
<code>findIndex()</code>è¿”å›çš„æ˜¯ä¸‹æ ‡</p>
</blockquote>
<pre><code class="language-javascript">const arr = [-1, -2, 3, 4];
let res = arr.find(function (a) {
    return a &gt; 0;
});
console.log(res);   //3 

const arr2 = [1, -2, 3, 4];
let res2 = arr2.findIndex(function (a) {
    return a &lt; 0;
});
console.log(res2);  //1 ä¸‹æ ‡1
</code></pre>
<h4 id="fill-å¡«å……">fill() å¡«å……</h4>
<pre><code class="language-javascript">const arr = [-1, -2, 3, 4];
console.log(arr.fill('a')); //[&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;]
console.log(arr.fill('a', 1, 3)); //[-1, &quot;a&quot;, &quot;a&quot;, 4]
// ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºèµ·å§‹å’Œç»“æŸä½ç½®ï¼Œä¸åŒ…å«ç»“æŸä½ç½®
</code></pre>
<hr>
<h2 id="å¯¹è±¡çš„æ‰©å±•">å¯¹è±¡çš„æ‰©å±•</h2>
<h4 id="å¯¹è±¡çš„ç®€æ´è¡¨ç¤ºæ³•">å¯¹è±¡çš„ç®€æ´è¡¨ç¤ºæ³•</h4>
<pre><code class="language-javascript">// å±æ€§ç®€å†™///
let str1 = 'doupo';
let obj1 = {
    str1: str1
}
console.log(obj1);  //{str1: &quot;doupo&quot;}
//ç®€å†™
let obj2 = { str1 };
console.log(obj2);  //{str1: &quot;doupo&quot;}

//æ–¹æ³•ç®€å†™///
let obj3 = {
    fun1: function () {
        console.log('1');
    },
    fun2() {
        console.log('2');
    }
};

obj3.fun1();    //1
obj3.fun2();    //2
</code></pre>
<h4 id="objectis">Object.is()</h4>
<blockquote>
<p>æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰</p>
</blockquote>
<pre><code class="language-javascript">let obj1 = {};
let obj2 = {};
console.log(Object.is(obj1, obj2));   //false
console.log(Object.is(NaN, NaN));   //true
console.log(Object.is(+0, -0));     //false
</code></pre>
<h4 id="objectassign">Object.assign()</h4>
<blockquote>
<p>ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚<br>
<code>Object.assign</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡</p>
</blockquote>
<pre><code class="language-javascript">let obj1 = { a: 1 };
let obj2 = { a: 2, b: 3 };
let obj3 = { c: 'abc' };
Object.assign(obj1, obj2, obj3);
console.log(obj1);  //{a: 2, b: 3, c: &quot;abc&quot;}  å¦‚æœæœ‰åŒåå±æ€§ï¼Œåé¢è¦†ç›–å‰é¢
</code></pre>
<p><code>Object.assign</code>æ–¹æ³•å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ã€‚æºå¯¹è±¡æŸä¸ªå±æ€§çš„å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç›®æ ‡å¯¹è±¡æ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚<br>
è¿™ä¸ªå¯¹è±¡çš„ä»»ä½•å˜åŒ–ï¼Œéƒ½ä¼šåæ˜ åˆ°ç›®æ ‡å¯¹è±¡ä¸Šé¢</p>
<pre><code class="language-javascript">let obj1 = { a: { b: 1 } };
let obj2 = Object.assign({}, obj1);
obj2.a.b = 2;
console.log(obj1.a.b) // 2
</code></pre>
<hr>
<h2 id="å‡½æ•°æ‰©å±•">å‡½æ•°æ‰©å±•</h2>
<h4 id="1-ä¸ºå‡½æ•°å‚æ•°æŒ‡å®šé»˜è®¤å€¼">1-ä¸ºå‡½æ•°å‚æ•°æŒ‡å®šé»˜è®¤å€¼</h4>
<pre><code class="language-javascript">function fn(a, b = 'World') {
    // å‚æ•°å˜é‡a,bæ˜¯é»˜è®¤å£°æ˜
    //let a = 'hi';          //æŠ¥é”™æç¤ºå·²ç»è¢«å£°æ˜
    console.log(a + b);
}
fn();           //undefinedWorld
fn('Hello');    //HelloWorld
</code></pre>
<h4 id="2-å‡½æ•°çš„-rest-å‚æ•°">2-å‡½æ•°çš„ rest å‚æ•°</h4>
<p>rest å‚æ•°å½¢å¼ä¸ºï¼ˆâ€œ...å˜é‡åâ€ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚</p>
<pre><code class="language-javascript">function sum() {
    var args = arguments;
    var res = 0;
    for (var i = 0; i &lt; args.length; i++) {
        res += args[i];
    }
    console.log(res);
}
sum(1, 2, 3, 4, 5); //15

function sum(a, b, ...arr) {
//ä¼ é€’å…¶ä»–å‚æ•°éœ€è¦æ”¾åœ¨restå‚æ•°å‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™
    var res = a;
    for (var i = 0; i &lt; arr.length; i++) {
        res += arr[i];
    }
    res += b;
    console.log(res);
}
sum(10, 'c', 1, 2, 3, 4, 5); //25c
</code></pre>
<h4 id="3-ç®­å¤´å‡½æ•°">3-ç®­å¤´å‡½æ•°</h4>
<blockquote>
<p>ES6å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰å®šä¹‰å‡½æ•°</p>
</blockquote>
<pre><code class="language-javascript">let fn = a =&gt; a;
//ç­‰åŒäº
let fn2 = function (a) {
    return a;
};
</code></pre>
<blockquote>
<p>å¦‚æœç®­å¤´å‡½æ•°ä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨()</p>
</blockquote>
<pre><code class="language-javascript">var f = () =&gt; 5;
// ç­‰åŒäº
var f = function () { return 5 };

var sum = (num1, num2) =&gt; num1 + num2;
// ç­‰åŒäº
var sum = function (num1, num2) {
    return num1 + num2;
};
</code></pre>
<blockquote>
<p>ç®­å¤´å‡½æ•°ç®€åŒ–sortæ’åº</p>
</blockquote>
<pre><code class="language-javascript">var arr = [3, 1, 3, 5, 2];

arr.sort(function (a, b){
   return a - b;
});

//ç®­å¤´å‡½æ•°
arr.sort((a, b) =&gt; a - b);
</code></pre>
<h3 id="ä½¿ç”¨æ³¨æ„ç‚¹">ä½¿ç”¨æ³¨æ„ç‚¹</h3>
<p>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„<code>this</code>å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨<code>new</code>å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨<code>arguments</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚</p>
<p>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨<code>yield</code>å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚</p>
<hr>
<h2 id="promise">Promise</h2>
<p><code>Promise</code>å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š<code>Pending</code>ï¼ˆè¿›è¡Œä¸­ï¼‰ã€<code>Resolved</code>ï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’Œ<code>Rejected</code>ï¼ˆå·²å¤±è´¥ï¼‰</p>
<p>Promiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯resolveå’Œrejectã€‚</p>
<p><code>resolve</code>å‡½æ•°å°†çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€ï¼ˆå³ä»Pendingå˜ä¸ºResolvedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»<br>
<code>reject</code>å‡½æ•°å°†çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€ï¼ˆå³ä»Pendingå˜ä¸ºRejectedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»</p>
<p>Promiseå®ä¾‹ç”Ÿæˆä»¥åï¼Œå¯ä»¥ç”¨<code>then</code>æ–¹æ³•åˆ†åˆ«æŒ‡å®š<code>Resolved</code>çŠ¶æ€å’Œ<code>Reject</code>çŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚</p>
<h5 id="promiseprototypethen-çŠ¶æ€æ”¹å˜å›è°ƒ">Promise.prototype.then() çŠ¶æ€æ”¹å˜å›è°ƒ</h5>
<p><code>then</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ResolvedçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰æ˜¯RejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚<br>
<strong>ä¸å»ºè®®è¿™æ ·å†™ï¼Œæ¨èä½¿ç”¨å¤±è´¥å›è°ƒcatch</strong></p>
<pre><code class="language-javascript">loadImage('http://doupo.me/imaes/profile_img.jpg').then(function (img) {
    document.body.appendChild(img)
}, function (err) {
    console.log(err);
});
</code></pre>
<h5 id="promiseprototypecatchå¤±è´¥å›è°ƒ">Promise.prototype.catch()		å¤±è´¥å›è°ƒ</h5>
<pre><code class="language-javascript">var imgArry = ['http://doupo.me/images/profile_img.jpg', 'http://doupo.me/images/same_text_time_icon.jpg'];
function loadImage(url) {
    return new Promise(function (resolve, reject) {
        var image = new Image();

        image.onload = function () {
            resolve(image);
            //æˆåŠŸ ä¼ å‡ºimage
        };

        image.onerror = function () {
            reject(new Error('åŠ è½½å¤±è´¥ ' + url));
            //å¤±è´¥-ä¼ å‡ºé”™è¯¯ä¿¡æ¯
        };

        image.src = url;
    });
}

loadImage(imgArry[0]).then(function (img) {
    document.body.appendChild(img);
    //æˆåŠŸï¼Œå°†å›¾ç‰‡æ˜¾ç¤ºåœ¨bodyä¸­
}).catch(function (err) {
    console.log(err);
    //å¤±è´¥ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
});
</code></pre>
<h5 id="promiseall">Promise.all()</h5>
<p>Promise.allæ–¹æ³•ç”¨äºå°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼Œæ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œæ•°ç»„æˆå‘˜ä¸ºPromiseå¯¹è±¡å®ä¾‹<br>
<strong>æ³¨</strong>åªæœ‰å…¨éƒ¨å®ä¾‹çŠ¶æ€éƒ½ä¸ºæˆåŠŸï¼ˆå…¨éƒ¨æˆåŠŸåå°†æ‰€æœ‰å®ä¾‹çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ä¼ é€’ç»™å›è°ƒå‡½æ•°ï¼‰ï¼Œæ‰è¿”å›æˆåŠŸï¼Œå¦åˆ™è¿”å›å¤±è´¥ï¼ˆè¿”å›ç¬¬ä¸€ä¸ªå‡ºé”™çš„è¿”å›å€¼ï¼‰</p>
<pre><code class="language-javascript">var imgArry = ['http://doupo.me/images/profile_img.jpg', 'http://doupo.me/images/same_text_time_icon.jpg'];
function loadImage(url) {
    return new Promise(function (resolve, reject) {
        var image = new Image();

        image.onload = function () {
            resolve(image);
        };

        image.onerror = function () {
            reject(new Error('åŠ è½½å¤±è´¥ ' + url));
        };

        image.src = url;
    });
}

let newPlist = Promise.all([loadImage(imgArry[0]), loadImage(imgArry[1])]);
newPlist.then(function (img) {
    //æ­¤å¤„imgä¸ºä¸¤ä¸ªå®ä¾‹è¿”å›çš„æ•°ç»„
    for (var i of img) {
        document.body.appendChild(i);
    };
}).catch(function (err) {
    console.log(err);
});
</code></pre>
<h3 id="promiseresolve">Promise.resolve()</h3>
<blockquote>
<p>å°†ç°æœ‰å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡</p>
</blockquote>
<h5 id="1-å‚æ•°ä¸ºpromiseå®ä¾‹">1-å‚æ•°ä¸ºPromiseå®ä¾‹</h5>
<blockquote>
<p>å°†ä¸åšä»»ä½•ä¿®æ”¹ï¼Œè¿”å›è¿™ä¸ªå®ä¾‹</p>
</blockquote>
<pre><code class="language-javascript">Promise.resolve(loadImage(imgArry[0])).then(function(img){
            document.body.appendChild(img);
       })
</code></pre>
<h5 id="2-å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡">2-å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡</h5>
<blockquote>
<p><code>thenable</code>å¯¹è±¡æŒ‡çš„æ˜¯å…·æœ‰<code>then</code>æ–¹æ³•çš„å¯¹è±¡<br>
å°†å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ï¼Œç„¶åç«‹å³æ‰§è¡Œ<code>thenable</code>å¯¹è±¡çš„<code>then</code>æ–¹æ³•</p>
</blockquote>
<pre><code class="language-javascript">var imgArry = ['http://doupo.me/images/profile_img.jpg', 'http://doupo.me/images/same_text_time_icon.jpg'];
Promise.resolve({
    then(resolve, reject) {
        var image = new Image();
        image.src = imgArry[0];
        image.onload = function () {
            resolve(image)
        }
    }
}).then(function (img) {
    document.body.appendChild(img);
});
</code></pre>
<h5 id="ä¸ä¼ å‚æˆ–è€…åŸºæœ¬æ•°æ®ç±»å‹">ä¸ä¼ å‚æˆ–è€…åŸºæœ¬æ•°æ®ç±»å‹</h5>
<p>å‚æ•°æ˜¯ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹æˆ–è€…ä¸ä¼ å‚æ•°ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªçŠ¶æ€ä¸º<code>resolved</code>çš„Promiseå¯¹è±¡</p>
<pre><code class="language-javascript">Promise.resolve('hi').then(function (str) {
    console.log(str);    //hi
});
</code></pre>
<hr>
<h2 id="generator">Generator</h2>
<hr>
<h2 id="async-å‡½æ•°">async å‡½æ•°</h2>
<hr>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ­£åˆ™è¡¨è¾¾å¼]]></title>
        <id>https://doupo.github.io/post/zheng-ze-biao-da-shi/</id>
        <link href="https://doupo.github.io/post/zheng-ze-biao-da-shi/">
        </link>
        <updated>2021-02-23T01:46:22.000Z</updated>
        <content type="html"><![CDATA[<h4 id="æ­£åˆ™çš„å†™æ³•-regular-expression">æ­£åˆ™çš„å†™æ³• Regular Expression</h4>
<p>var re = /a/;<br>
var re = new RegExp('a');</p>
<h3 id="æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ–¹æ³•">æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨æ–¹æ³•</h3>
<h4 id="è½¬ä¹‰å­—ç¬¦">è½¬ä¹‰å­—ç¬¦</h4>
<table>
<thead>
<tr>
<th style="text-align:center">ä»£ç </th>
<th style="text-align:center">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\s</td>
<td style="text-align:center">ç©ºæ ¼</td>
</tr>
<tr>
<td style="text-align:center">\S</td>
<td style="text-align:center">éç©ºæ ¼</td>
</tr>
<tr>
<td style="text-align:center">\d</td>
<td style="text-align:center">æ•°å­—</td>
</tr>
<tr>
<td style="text-align:center">\D</td>
<td style="text-align:center">éæ•°å­—</td>
</tr>
<tr>
<td style="text-align:center">\w</td>
<td style="text-align:center">å­—ç¬¦   ( å­—æ¯ ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿_ )</td>
</tr>
<tr>
<td style="text-align:center">\W</td>
<td style="text-align:center">åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äº[^A-Za-z0-9_]</td>
</tr>
<tr>
<td style="text-align:center">\b</td>
<td style="text-align:center">ç‹¬ç«‹çš„éƒ¨åˆ†   ï¼ˆ èµ·å§‹ï¼Œç»“æŸï¼Œç©ºæ ¼ ï¼‰</td>
</tr>
<tr>
<td style="text-align:center">\B</td>
<td style="text-align:center">éç‹¬ç«‹çš„éƒ¨åˆ†</td>
</tr>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">ä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\n</td>
<td style="text-align:center">æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\r</td>
<td style="text-align:center">å›è½¦ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">\t</td>
<td style="text-align:center">åˆ¶è¡¨ç¬¦</td>
</tr>
</tbody>
</table>
<h4 id="1test-å­—ç¬¦ä¸²åˆ¤æ–­åŒ¹é…">1.test å­—ç¬¦ä¸²åˆ¤æ–­(åŒ¹é…)</h4>
<p><strong>testçš„å†™æ³• : <code>æ­£åˆ™.test(å­—ç¬¦ä¸²)</code></strong></p>
<h5 id="åˆ¤æ–­æ‰‹æœºå·ç ">åˆ¤æ–­æ‰‹æœºå·ç </h5>
<p><strong>!(/^1[3|4|5|7|8]\d{9}$/.test(phone))</strong></p>
<blockquote>
<p>è¿”å›çœŸå‡<br>
æ­£åˆ™.test(å­—ç¬¦ä¸²)</p>
</blockquote>
<h5 id="æŒ‡å®šå­—ç¬¦åŒ¹é…">æŒ‡å®šå­—ç¬¦åŒ¹é…</h5>
<pre><code class="language-javascript">//test : æ­£åˆ™å»åŒ¹é…å­—ç¬¦ä¸²ï¼Œå¦‚æœåŒ¹é…æˆåŠŸå°±è¿”å›çœŸï¼Œå¦‚æœåŒ¹é…å¤±è´¥å°±è¿”å›å‡
var str = 'abcdef';
var re = /b/;	//bå¯ä»¥åŒ¹é…åˆ°ï¼Œâ€˜abâ€™ä¹Ÿå¯ä»¥ï¼Œå¦‚æœæœ‰é—´éš”â€˜ceâ€™ä¸è¿ç»­åˆ™è¿”å›false
alert( re.test(str) );  //è¿”å›true
</code></pre>
<h5 id="ä¾‹å­åˆ¤æ–­å­—ç¬¦æ˜¯å¦å…¨æ˜¯æ•°å­—">ä¾‹å­ï¼šåˆ¤æ–­å­—ç¬¦æ˜¯å¦å…¨æ˜¯æ•°å­—</h5>
<pre><code class="language-javascript">var str = '374829348791';

//str = '374829348791'; =&gt; else
//str = 'l37h482r9348791'; =&gt; if

var re = /\D/;
if( re.test(str) ){
	alert('ä¸å…¨æ˜¯æ•°å­—');
}
else{
	alert('å…¨æ˜¯æ•°å­—');
}
</code></pre>
<h4 id="2searchå­—ç¬¦ä¸²æœç´¢">2.searchå­—ç¬¦ä¸²æœç´¢</h4>
<p><strong>searchçš„å†™æ³• : <code>å­—ç¬¦ä¸².search(æ­£åˆ™)</code></strong></p>
<blockquote>
<p>è¿”å›å‡ºç°çš„ä½ç½®(æˆåŠŸè¿”å›ä½ç½®ï¼Œå¤±è´¥å°±è¿”å› -1)<br>
å­—ç¬¦ä¸².search(æ­£åˆ™)<br>
å¿½ç•¥å¤§å°å†™ï¼šiâ€”â€”ignore<br>
<em>*<code>var re=/I/i;</code> ==== <code>var re = new RegExp('B','i');</code></em>*</p>
</blockquote>
<h5 id="ä¾‹å­å­—ç¬¦ä¸²æœç´¢">ä¾‹å­ï¼šå­—ç¬¦ä¸²æœç´¢</h5>
<pre><code class="language-javascript">//æ­£åˆ™ä¸­çš„é»˜è®¤ : æ˜¯åŒºåˆ†å¤§å°å†™çš„ , å¯»æ‰¾ç¬¬ä¸€ä¸ª
var str='nishiyige';
var re=/I/;				//I =&gt; -1;  i=&gt; 1;
alert(str.search(re));

//å¦‚æœä¸åŒºåˆ†å¤§å°å†™çš„è¯ï¼Œåœ¨æ­£åˆ™çš„æœ€ååŠ æ ‡è¯†
var str='nishiyige';
var re=/I/i;				
alert(str.search(re));	// 1
</code></pre>
<h4 id="3matchæ­£åˆ™å»åŒ¹é…å­—ç¬¦ä¸²">3.matchæ­£åˆ™å»åŒ¹é…å­—ç¬¦ä¸²</h4>
<p>å¦‚æœåŒ¹é…æˆåŠŸï¼Œå°±è¿”å›åŒ¹é…æˆåŠŸçš„æ•°ç»„ï¼Œå¦‚æœåŒ¹é…ä¸æˆåŠŸï¼Œå°±è¿”å›null<br>
<strong>matchçš„å†™æ³• : <code>å­—ç¬¦ä¸².match(æ­£åˆ™)</code></strong></p>
<blockquote>
<p>è·å–åŒ¹é…çš„é¡¹ç›®,<br>
è¿”å›æ•°ç»„<br>
é‡è¯ï¼š+  è‡³å°‘å‡ºç°ä¸€æ¬¡<br>
å…¨å±€åŒ¹é…ï¼šgâ€”â€”global</p>
</blockquote>
<h5 id="ä¾‹å­æ‰¾å‡ºæ‰€æœ‰æ•°å­—">ä¾‹å­ï¼šæ‰¾å‡ºæ‰€æœ‰æ•°å­—</h5>
<pre><code class="language-javascript">	var str = 'haj123sdk54hask33dkhalsd879';

var re = /\d+/g;    
//re = /\d\d/g; =&gt; [12,54,33,87]   
//re = /\d\d\d/g; =&gt; [123,879]  
//re = /\d\d\d\d/g; =&gt; null

alert( str.match(re) );   //[123,54,33,879]
</code></pre>
<h5 id="ä¾‹å­matchåŒ¹é…å­é¡¹">ä¾‹å­ï¼šmatchåŒ¹é…å­é¡¹</h5>
<pre><code class="language-javascript">var str = 'dacdef';
var re = /(a)(c)/;
alert( str.match(re) );  //[ac,a,c](å½“matchä¸åŠ gçš„æ—¶å€™æ‰å¯ä»¥è·å–åˆ°å­é¡¹çš„é›†åˆ)
</code></pre>
<h4 id="4-replaceåŒ¹é…æ›¿æ¢">4. replaceåŒ¹é…æ›¿æ¢</h4>
<p><strong>replaceçš„å†™æ³• : <code>å­—ç¬¦ä¸².replace(æ­£åˆ™,æ–°çš„å­—ç¬¦ä¸²)</code></strong></p>
<blockquote>
<p>æ›¿æ¢æ‰€æœ‰åŒ¹é…<br>
è¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²<br>
å­—ç¬¦ä¸².replace(æ­£åˆ™,æƒ³æ›¿æ¢çš„)<br>
<code>|</code> : æˆ–çš„æ„æ€<br>
<code>replace : ç¬¬äºŒä¸ªå‚æ•°ï¼š</code>å¯ä»¥æ˜¯<code>å­—ç¬¦ä¸²</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª<code>å›è°ƒå‡½æ•°</code></p>
</blockquote>
<h5 id="ä¾‹å­æ•æ„Ÿè¯è¿‡æ»¤">ä¾‹å­ï¼šæ•æ„Ÿè¯è¿‡æ»¤</h5>
<pre><code class="language-javascript">	var str='è²ç§°ä»çˆ±ç¤é™„è¿‘17è‰˜ä¸­å›½èˆ¹å‡åœ¨è²å†›ç›‘è§†ä¹‹ä¸‹';
	var re = /è²ç§°|ä¸­å›½èˆ¹|ç›‘è§†ä¹‹ä¸‹/g;
	var newstr='';
		 newstr = str.replace(re,function(str){
			//å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå°±æ˜¯åŒ¹é…æˆåŠŸçš„å­—ç¬¦	 
			 alert( str );  //è²ç§° ä¸­å›½èˆ¹ ç›‘è§†ä¹‹ä¸‹ 
			 var result = '';
			 for(var i=0;i&lt;str.length;i++){
				 result += '*';
			 }
			 return result;
		 });
		 alert(newstr);		//**ä»çˆ±ç¤é™„è¿‘17è‰˜***å‡åœ¨è²å†›****
</code></pre>
<h5 id="åŒ¹é…å­é¡¹">åŒ¹é…å­é¡¹</h5>
<h5 id="åŒ¹é…å­é¡¹æ³¨æ„ç‚¹">åŒ¹é…å­é¡¹æ³¨æ„ç‚¹ï¼</h5>
<blockquote>
<p>æ‹¿åˆ°å­é¡¹çš„å‰ææ˜¯åŒ¹é…åˆ°æ¯é¡¹,rt,/\d+-/gåªèƒ½åŒ¹é…åˆ° '2017-' '3-',æœ€åä¸€ä¸ª'2'åŒ¹é…ä¸åˆ°<br>
<img src="./%E5%AD%90%E9%A1%B9%E5%8C%B9%E9%85%8D%E6%B3%A8%E6%84%8F%E7%82%B9.png" alt="Alt text" loading="lazy"></p>
</blockquote>
<h5 id="ä¾‹å­æ—¥æœŸæ ¼å¼åŒ–">ä¾‹å­ï¼šæ—¥æœŸæ ¼å¼åŒ–</h5>
<h5 id="æ­£åˆ™è¡¨è¾¾å¼ä¸­å°æ‹¬å·">æ­£åˆ™è¡¨è¾¾å¼ä¸­å°æ‹¬å·</h5>
<p><strong>å°æ‹¬å·<code>()</code> (è¿˜æœ‰å¦å¤–ä¸€ä¸ªæ„æ€ï¼Œåˆ†ç»„æ“ä½œ)</strong></p>
<pre><code class="language-javascript">//æŠŠæ­£åˆ™çš„æ•´ä½“å«åšï¼ˆæ¯äº²ï¼‰
//ç„¶åæŠŠå·¦è¾¹ç¬¬ä¸€ä¸ªå°æ‹¬å·é‡Œé¢çš„æ­£åˆ™ï¼Œå«åšè¿™ä¸ªç¬¬ä¸€ä¸ªå­é¡¹(æ¯äº²çš„ç¬¬ä¸€ä¸ªå­©å­)
//ç¬¬äºŒä¸ªå°æ‹¬å·å°±æ˜¯ç¬¬äºŒä¸ªå­©å­

var str = '2017-3-2';

var re = /(\d+)(-)/g;

str = str.replace(re,function($0,$1,$2){
	//ç¬¬ä¸€ä¸ªå‚æ•°ï¼š$0ï¼ˆæ¯äº²ï¼‰,ç¬¬äºŒä¸ªå‚æ•° : $1(ç¬¬ä¸€ä¸ªå­©å­)
	//,ç¬¬äºŒä¸ªå‚æ•° : $1(ç¬¬äºŒä¸ªå­©å­)
	
	alert( $0 ); //2017-  3-
	alert( $1 ); //2017  3     //å­é¡¹å†…å®¹æ¥æºäºæ¯é¡¹==&gt;æ‰€ä»¥æ²¡æœ‰åŒ¹é…åˆ°æœ€åä¸€ä¸ª2
	alert( $2 ); //-  -
	return $1 + '.';		//2017+'.'  3+'.'
	
	// return $0.substring(0,$0.length-1) + '.';
	
});

alert( str );   //2017.3.2
</code></pre>
<h4 id="æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ç±»">æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ç±»</h4>
<h5 id="ä»»æ„å­—ç¬¦">ä»»æ„å­—ç¬¦</h5>
<blockquote>
<p>å­—ç¬¦ç±» : ä¸€ç»„ç›¸ä¼¼çš„å…ƒç´    [] ä¸­æ‹¬å·çš„æ•´ä½“ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæˆ–çš„å…³ç³»<br>
ä¾‹:</p>
</blockquote>
<pre><code class="language-javascript">	var str = 'abdc';
	var re = /a[bde]+c/;
	alert( re.test(str) );  //è¿”å› true
</code></pre>
<h5 id="èŒƒå›´">èŒƒå›´</h5>
<blockquote>
<p>[a-z]ã€[0-9]ã€[A-Z]</p>
</blockquote>
<h5 id="ä¾‹a-z0-9a-z">ä¾‹ï¼š[a-z0-9A-Z]</h5>
<pre><code class="language-javascript">var str = 'abc';	//str = 'a*c'; è¿”å› false
var re = /a[a-z0-9A-Z]c/;
alert( re.test(str) );  //è¿”å› true
</code></pre>
<h5 id="æ’é™¤">æ’é™¤</h5>
<blockquote>
<p><code>[^a]</code>^ å¦‚æœ^å†™åœ¨<code>[]</code>é‡Œé¢çš„è¯ï¼Œå°±ä»£è¡¨æ’é™¤çš„æ„æ€</p>
</blockquote>
<h5 id="ä¾‹å­a">ä¾‹å­ï¼š[^a]</h5>
<pre><code class="language-javascript">var str = 'a2c';
var re = /a[^bde]c/;
alert( re.test(str) );  //ä¸èƒ½æ‹¥æœ‰å’Œ[^bde]ç›¸åŒ¹é…çš„å­—ç¬¦
</code></pre>
<h5 id="ä¾‹å­ç»¼åˆå»æ‰htmlä¸­çš„æ ‡ç­¾">ä¾‹å­ç»¼åˆï¼šå»æ‰htmlä¸­çš„æ ‡ç­¾</h5>
<pre><code class="language-javascript">	window.onload=function(){
    var htmltxt=document.getElementById('htmltxt').innerHTML;
    console.log(htmltxt);
    var re=/&lt;[^&gt;]+&gt;/g;
    htmltxt=htmltxt.replace(re,'');
    console.log(htmltxt);
	}

//æ‰§è¡Œè¿”å›	å¤šè¯­è¨€
            
                //ä¸­ æ–‡
                //English
                //æ—¥æœ¬èª
                //Ğ ÑƒÑÑĞºĞ¸Ğ¹
                //í•œêµ­ì–´
  
//html
&lt;div id=&quot;htmltxt&quot;&gt;
    &lt;li class=&quot;nav-dropdown-container language&quot;&gt;
    &lt;a class=&quot;nav-link&quot;&gt;å¤šè¯­è¨€&lt;/a&gt;&lt;span class=&quot;arrow&quot;&gt;&lt;/span&gt;
        &lt;ul class=&quot;nav-dropdown&quot;&gt;
            &lt;li&gt;&lt;a href=&quot;https://cn.vuejs.org/&quot; class=&quot;nav-link&quot; target=&quot;_blank&quot;&gt;ä¸­æ–‡&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;https://vuejs.org/&quot; class=&quot;nav-link&quot; target=&quot;_blank&quot;&gt;English&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;https://jp.vuejs.org/&quot; class=&quot;nav-link&quot; target=&quot;_blank&quot;&gt;æ—¥æœ¬èª&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;https://ru.vuejs.org/&quot; class=&quot;nav-link&quot; target=&quot;_blank&quot;&gt;Ğ ÑƒÑÑĞºĞ¸Ğ¹&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;https://kr.vuejs.org/&quot; class=&quot;nav-link&quot; target=&quot;_blank&quot;&gt;í•œêµ­ì–´&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/div&gt;
</code></pre>
<h5 id="è½¬ä¹‰å­—ç¬¦1~nçš„ç”¨æ³•">è½¬ä¹‰å­—ç¬¦\1~nçš„ç”¨æ³•</h5>
<p><code>\1</code> : é‡å¤çš„ç¬¬ä¸€ä¸ªå­é¡¹<br>
<code>\2</code> : é‡å¤çš„ç¬¬äºŒä¸ªå­é¡¹<br>
<code>\n</code> : é‡å¤çš„ç¬¬nä¸ªå­é¡¹</p>
<pre><code class="language-javascript">var str = 'abcb';
var re = /(a)(b)(c)\2/;
alert( re.test(str) );  
//è¿”å›true var re = /(a)(b)(c)\2/;  ==&gt; var re = /(a)(b)(c)(b)/; 

if var str = 'abcc';  ==&gt; è¿”å› false

var re = /\w\w/;   		//å¯ä»¥åŒ¹é… ab a1 ç­‰ç­‰
var re = /(\w)\1/; 		//åªèƒ½åŒ¹é… aa 11 ç­‰ç­‰
</code></pre>
<h5 id="è½¬ä¹‰å­—ç¬¦bå’Œçš„ç”¨æ³•">è½¬ä¹‰å­—ç¬¦\bå’Œ.çš„ç”¨æ³•</h5>
<h4 id="æ­£åˆ™éœ€è¦ä¼ å‚çš„å†™æ³•">æ­£åˆ™éœ€è¦ä¼ å‚çš„å†™æ³•</h4>
<p><strong>å½“æ­£åˆ™éœ€è¦ä¼ å‚çš„æ—¶å€™ï¼Œä¸€å®šè¦ç”¨å…¨ç§°çš„å†™æ³•ï¼›ä¸”éœ€è¦è½¬ä¹‰</strong></p>
<h5 id="è·å–classå…ƒç´ ">è·å–classå…ƒç´ </h5>
<pre><code class="language-javascript">	function getByClass(oParent,sClass){
		var arr = [];
		var aEle = oParent.getElementsByTagName('*');
		
		//var re = /sClass/;  //å½“æ­£åˆ™éœ€è¦ä¼ å‚çš„æ—¶å€™ï¼Œä¸€å®šè¦ç”¨å…¨ç§°çš„å†™æ³•
		var re = new RegExp('\\b'+sClass+'\\b');
		
		for(var i=0;i&lt;aEle.length;i++){
			if( re.test(aEle[i].className) ){
				arr.push( aEle[i] );
			}
		}
		return arr;
	}
</code></pre>
<h4 id="é‡è¯">é‡è¯ : {}ï¼Œ+ï¼Œï¼Ÿï¼Œ*</h4>
<pre><code class="language-javascript">{4,7}  : æœ€å°‘å‡ºç°4æ¬¡ï¼Œæœ€å¤šå‡ºç°7æ¬¡
{4,} : æœ€å°‘å‡ºç°4æ¬¡,æ²¡æœ‰ä¸Šé™
{4} : æ­£å¥½å‡ºç°4æ¬¡

+ : {1,}
? : {0,1}  : å‡ºç°0æ¬¡æˆ–è€…1æ¬¡
* : {0,}  : è‡³å°‘å‡ºç°0æ¬¡


var str = 'ac';
var re = /ab*c/;

alert(re.test(str));  //è¿”å›true
//var re = /ab*c/; båç¼€*è¡¨ç¤ºå¯ä»¥ä¸ç”¨å‡ºç°ï¼ŒåŒ¹é…æˆåŠŸï¼Œæ‰€ä»¥var str = 'ac'; ä¹Ÿå¯ä»¥æ˜¯ var str = 'abc';
</code></pre>
<h4 id="æ­£åˆ™ä¸­å’Œ">æ­£åˆ™ä¸­^å’Œ$</h4>
<p><code>[^a]</code>^ å¦‚æœ^å†™åœ¨<code>[]</code>é‡Œé¢çš„è¯ï¼Œå°±ä»£è¡¨æ’é™¤çš„æ„æ€<br>
<code>^</code>: æ­£åˆ™çš„æœ€å¼€å§‹ä½ç½®ï¼Œå°±ä»£ç¬”èµ·å§‹çš„æ„æ€<br>
<code>$</code> : æ­£åˆ™çš„æœ€åä½ç½® , å°±ä»£ç¬”ç»“æŸçš„æ„æ€</p>
<h5 id="ä¾‹å’Œ">ä¾‹ï¼š^å’Œ$</h5>
<pre><code class="language-javascript">var str='1s2345a';
var re=/^\d\w+a$/g;
alert(re.test(str)); //true

var re=/^\d\w+a$/g; èµ·å§‹ä¸ºæ•°å­—ï¼Œä¸­é—´ä¸ºå­—ç¬¦,ç»“å°¾ä¸º'a'
</code></pre>
<h5 id="ä¾‹å»å‰åç©ºæ ¼">ä¾‹ï¼šå»å‰åç©ºæ ¼</h5>
<pre><code class="language-javascript">var str = ' hello ';
alert( '('+trim(str)+')' );
function trim(str){
	var re = /^\s+|\s+$/g;
	return str.replace(re,'');
}
</code></pre>
<h5 id="ä¾‹è§£é‡Š">ä¾‹ï¼šè§£é‡Š</h5>
<pre><code class="language-javascript">var re = /^\w+@[a-z0-9]+(\.[a-z]+){1,3}$/;
èµ·å§‹ä¸ºå­—ç¬¦ä¸”å¤šä½ + @ + a-zå’Œ0-9+ è½¬ä¹‰åçš„ . + a-z + é‡è¯ï¼Œå¯ä»¥å¤šä½
</code></pre>
<h4 id="åˆ›å»ºæ­£åˆ™æ–¹æ³•é›†åˆ">åˆ›å»ºæ­£åˆ™æ–¹æ³•é›†åˆ</h4>
<pre><code class="language-javascript">var str = 'ä½ æ˜¯134ä½ ';

var re = {
	email : /^\w+@[a-z0-9]+(\.[a-z]+){1,3}$/,	//éªŒè¯é‚®ç®±
	tel:/^1[3|4|5|7|8]\d{9}$/,					//éªŒè¯æ‰‹æœºå·
	Dupp:/[A-Z]/g,					//å»æ‰å¤§å†™å­—æ¯
	Dnum:/[0-9]/g,					//å»æ‰æ•°å­—
	UDUD:/-(\w)/g,					//è½¬é©¼å³°
	china:/^[\u4e00-\u9fa5]+$/g,	//åªå…è®¸ä¸­æ–‡
};

//è½¬é©¼å³°
str=str.replace(re.UDUD,function(a1,a2){
	return a2.toUpperCase();
});	 


alert(re.china.test(str));	
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ vuex å’Œ axios]]></title>
        <id>https://doupo.github.io/post/vuex-he-axios/</id>
        <link href="https://doupo.github.io/post/vuex-he-axios/">
        </link>
        <updated>2021-02-23T01:45:08.000Z</updated>
        <content type="html"><![CDATA[<p>@(jså­¦ä¹ ç¬”è®°)</p>
<h2 id="vuex">vuex</h2>
<h3 id="vuexä»‹ç»">vuexä»‹ç»</h3>
<p><a href="https://vuex.vuejs.org/zh-cn/">vuexå®˜ç½‘</a></p>
<blockquote>
<p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€</p>
</blockquote>
<h4 id="é…åˆæ’ä»¶">é…åˆæ’ä»¶</h4>
<p>vue devtools</p>
<h4 id="å®‰è£…vuex">å®‰è£…vuex</h4>
<p><strong>å®‰è£…æ¨¡å—</strong><br>
<code>npm install vuex --save</code></p>
<p><strong>ä½¿ç”¨æ’ä»¶</strong><br>
<code>import Vue from 'vue'</code><br>
<code>import Vuex from 'vuex'</code><br>
<code>Vue.use(Vuex)</code></p>
<p><strong>å®šä¹‰</strong><br>
<code>new Vuex.Store()</code></p>
<p><strong>æ³¨å…¥vueå®ä¾‹</strong><br>
<code>store</code></p>
<hr>
<h3 id="vuexæ ¸å¿ƒæ¦‚å¿µ">vuexæ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 id="store">store</h4>
<blockquote>
<p>1.é¡µé¢ä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ª<br>
2.çŠ¶æ€å“åº”<br>
3.çŠ¶æ€æ›´æ”¹éœ€è¦æäº¤mutation</p>
</blockquote>
<pre><code class="language-javascript">let store = new Vuex.Store({
	state:{},
	getters:{},
	...
})

export default store
</code></pre>
<h4 id="state">state</h4>
<blockquote>
<p>åŒ…å«äº†å…¨éƒ¨çš„åº”ç”¨å±‚çº§çŠ¶æ€</p>
</blockquote>
<pre><code class="language-javascript"> state: {
    a: 1,
    b: 2
  }
  
  //ç»„ä»¶ä¸­ä½¿ç”¨
  computed: {
     num(){
     return this.$store.state.a
     },
     num2(){
     return this.$store.state.b
     },
   }
</code></pre>
<p>è·å–å¤šä¸ªçŠ¶æ€æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨<code>mapStateè¾…åŠ©å‡½æ•°</code>ç®€åŒ–æ“ä½œ</p>
<h4 id="getters">getters</h4>
<blockquote>
<p>storeçš„è®¡ç®—å±æ€§<br>
Getters æ¥å— state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°<br>
Getters ä¼šæš´éœ²ä¸ºstore.getterså¯¹è±¡</p>
</blockquote>
<pre><code class="language-javascript">getters: {
    a(state){
      return ...
    }
  }

//ç»„ä»¶ä¸­ä½¿ç”¨
this.$store.getters.a
</code></pre>
<h4 id="mutations">mutations</h4>
<h5 id="ä½¿ç”¨">ä½¿ç”¨</h5>
<blockquote>
<p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•<br>
mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</p>
</blockquote>
<pre><code class="language-javascript">state: {
    num: 1
  },
  mutations: {
    addNum (state) {
      // å˜æ›´çŠ¶æ€
      state.num++
    }
  }
  
//ç»„ä»¶ä¸­è°ƒç”¨
this.$store.commit('addNum')
</code></pre>
<h5 id="æäº¤payload">æäº¤Payload</h5>
<pre><code class="language-javascript">  mutations: {
    addNum (state,payload) {
      // å˜æ›´çŠ¶æ€
      state.num+=payload.newNum
    }
  }  
  
//ç»„ä»¶ä¸­è°ƒç”¨
this.$store.commit('addNum'ï¼Œ{
newNum:3
})
//æˆ–
this.$store.commit({
type:'addNum',
newNum:3
})
//ä¹Ÿå¯ä»¥ä¼ å•ä¸ªå‚æ•°
this.$store.commit('addNum', 10)
//æ¥æ”¶æ—¶ç”¨å½¢å‚ç›´æ¥ä½¿ç”¨
</code></pre>
<h4 id="actions">actions</h4>
<blockquote>
<p>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚<br>
Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</p>
</blockquote>
<pre><code class="language-javascript">state: {
    num: 1
  },
  mutations: {
    addNum (state) {
      // å˜æ›´çŠ¶æ€
      state.num++
    }
  },
  actions: {
    asyncAdd(context){
      setTimeout(function () {
          context.commit('addNum', {n: 5});
        },1000);
        context.dispatch('newCs', 'cs')
    },
    newCs(context, obj){
      console.log(obj) //cs
    }
  }
  
//ç»„ä»¶ä¸­è°ƒç”¨
this.$store.dispatch('asyncAdd');
</code></pre>
<hr>
<h3 id="è¾…åŠ©å‡½æ•°">è¾…åŠ©å‡½æ•°</h3>
<p><strong>å¼•å…¥</strong><br>
<code>import {mapState,mapGetters,mapActions,mapMutations} from 'vuex'</code></p>
<h4 id="mapstate">mapState</h4>
<blockquote>
<p>è·å–å¤šä¸ªçŠ¶æ€æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨<code>mapStateè¾…åŠ©å‡½æ•°</code>ç®€åŒ–æ“ä½œ</p>
</blockquote>
<pre><code class="language-javascript"> state: {
    a: 1,
    b: 2,
    c: 3
  }
  
  //ç»„ä»¶ä¸­ä½¿ç”¨
	//è®¡ç®—å±æ€§çš„åç§°ä¸stateçŠ¶æ€åç§°ä¸€æ ·,å¯ä»¥ç»™mapStateä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„
	//###1
    computed:{
      ...mapState(['a','b','c'])  //æ‰©å±•è¿ç®—
    }

	//###2
	computed: mapState(['a','b','c'])

	//###3
	computed: mapState({
      //###3-1 
      a: state =&gt; state.a
	  //###3-2
      b: 'b'
      //###3-3
      c(state){
        return state.c
      }
    })
</code></pre>
<h4 id="mapgetters">mapGetters</h4>
<blockquote>
<p>å°† store ä¸­çš„ getters æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§</p>
</blockquote>
<pre><code class="language-javascript">getters: {
    a(state){
      return ...
    }
  }

//ç»„ä»¶ä¸­ä½¿ç”¨
computed:{
	...mapGetters({
	    num:'a'
	 })
 }
</code></pre>
<h4 id="mapmutations">mapMutations</h4>
<pre><code class="language-javascript">methods: {
	...mapMutations({
	  a:'addNum'
	})
}
</code></pre>
<h4 id="mapactions">mapActions</h4>
<pre><code class="language-javascript">methods: {
	...mapActions({
	   a:'asyncAdd'
	 })
 }
</code></pre>
<h3 id="modules">Modules</h3>
<blockquote>
<p>Vuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—</p>
</blockquote>
<pre><code class="language-javascript">let newModule = {
  state: {
	  num:1
  }
  /* ... */
}

//å®ä¾‹ä¸­æ·»åŠ 
let store = new Vuex.Store({
  modules:{
    newModule
  }
})

//ç»„ä»¶ä¸­ä½¿ç”¨
this.$store.state.newModule.num
</code></pre>
<blockquote>
<p>ä¸ºäº†ä¾¿äºç»´æŠ¤å¯ä»¥ç”¨ä¸åŒçš„jsæ–‡ä»¶åŒºåˆ«ä¸åŒçš„Modules</p>
</blockquote>
<pre><code class="language-javascript">//Modulesæ–‡ä»¶
let newModule = {
  state: {
	  num:1
  }
  /* ... */
}
export default newModule

//åœ¨æ ¹å®ä¾‹æ–‡ä»¶ä¸­æ·»åŠ 
import newModule from './newModule'

let store = new Vuex.Store({
  modules:{
    newModule
  }
})
</code></pre>
<hr>
<h2 id="axios">axios</h2>
<h3 id="ä»‹ç»">ä»‹ç»</h3>
<p><strong>æµè§ˆå™¨æ”¯æŒ</strong><br>
å¦‚æœä½ çš„æµè§ˆå™¨ç¯å¢ƒä¸æ”¯æŒ ES6 Promiseï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://github.com/stefanpenner/es6-promise">polyfill</a></p>
<p>åŸºäº Promise å¯ç”¨äºæµè§ˆå™¨å’Œ Node.js<br>
<strong>ç‰¹å¾</strong></p>
<ul>
<li>æ”¯æŒ promise API</li>
<li>æ‹¦æˆªè¯·æ±‚</li>
<li>åœ¨æµè§ˆå™¨ä¸­å‘é€ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a> è¯·æ±‚</li>
<li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li>
<li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li>
<li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</li>
</ul>
<p><strong>å®‰è£…</strong><br>
<code>$ npm install axios</code></p>
<h3 id="ä½¿ç”¨-2">ä½¿ç”¨</h3>
<p><strong>åœ¨æ¨¡å—ä¸­å¼•å…¥</strong><br>
<code>import axios from 'axios'</code></p>
<p><strong>æ”¯æŒçš„è¯·æ±‚æ–¹å¼</strong></p>
<ul>
<li>axios.get(url[, config])</li>
<li>axios.delete(url[, config])</li>
<li>axios.head(url[, config])</li>
<li>axios.post(url[, data[, config]])</li>
<li>axios.put(url[, data[, config]])</li>
<li>axios.patch(url[, data[, config]])</li>
</ul>
<h4 id="ä¾‹-getpost">ä¾‹-get,post</h4>
<p><strong>get</strong></p>
<pre><code class="language-javascript">//æ™®é€šè¯·æ±‚æ•°æ®
axios.get('url')
  .then((response)=&gt;{
      console.log(response)
  })
  .catch((error) =&gt;{
       console.log(error)
   })

//å¸¦å‚æ•°
axios.get('/user', {
    params: {
      ID: 123
    }
  })
  .then((response)=&gt;{
      console.log(response)
  })
  .catch((error) =&gt;{
       console.log(error)
   })
</code></pre>
<p><strong>post</strong></p>
<pre><code class="language-javascript">axios.post('/user', {
      ID: 123
  })
  .then((response)=&gt;{
      console.log(response)
  })
  .catch((error) =&gt;{
       console.log(error)
   })
</code></pre>
<h4 id="ä¾‹-å¹¶å‘è¯·æ±‚">ä¾‹-å¹¶å‘è¯·æ±‚</h4>
<p><strong>è¯­æ³•</strong><br>
<code>axios.all(iterable)</code><br>
<code>axios.spread(callback)</code></p>
<p><strong>ä¾‹</strong></p>
<pre><code class="language-javascript">    function http1(){
      return axios.get(&quot;url&quot;)
    }

    function http2(){
      return axios.get(&quot;url&quot;)
    }

    axios.all([http1(),http2()])
      .then(axios.spread((res1,res2)=&gt;{
          console.log(res1)
          console.log(res2)
      }))
      .catch((error) =&gt;{
        console.log(error)
    })
</code></pre>
<hr>
<h3 id="è‡ªå®šä¹‰è¯·æ±‚">è‡ªå®šä¹‰è¯·æ±‚</h3>
<p><strong>åˆ›å»º</strong><br>
<code>axios.create(config)</code></p>
<p><strong>é…ç½®ä¿¡æ¯</strong></p>
<pre><code class="language-javascript">axios.create({
    baseURL:'', //æ¥å£
    timeout: 1000, //è¶…æ—¶æ—¶é—´
    responseType:'json', //è¿”å›æ•°æ®ç±»å‹
    headers:{},  //è¯·æ±‚å¤´ä¿¡æ¯
    params{},  //å‚æ•°
    transformRequest[function (data) {return data;}],  //å‘é€è¯·æ±‚ä¹‹å‰å¯¹è¯·æ±‚æ•°æ®åšå¤„ç†
    transformResponse:[function (data) {return data;}], //æå‰å¤„ç†è¿”å›çš„æ•°æ®
    validateStatus:function(status){
	     return status &lt; 400;
    }, //å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ï¼ˆæ ¹æ®è¿”å›å€¼åˆ¤æ–­ï¼‰ resolve æˆ– reject
    cancelToken:source.token //æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token
})

//###æ³¨ï¼štransformRequest å¯ä»¥ä½¿ç”¨ queryStringæ¨¡å—
</code></pre>
<h5 id="canceltokenå–æ¶ˆè¯·æ±‚">cancelTokenå–æ¶ˆè¯·æ±‚</h5>
<p><strong>åˆ›å»º</strong><br>
<code>var CancelToken = axios.CancelToken;</code><br>
<code>var source = CancelToken.source();</code></p>
<p><strong>é…ç½®</strong><br>
<code>cancelToken:source.token</code></p>
<p><strong>æ•è·å–æ¶ˆé”™è¯¯</strong><br>
<code>if (axios.isCancel(thrown)) { console.log('Request canceled', thrown.message); } else { console.log(error) }</code></p>
<p><strong>å–æ¶ˆè¯·æ±‚</strong> -- message å‚æ•°æ˜¯å¯é€‰çš„<br>
<code>source.cancel('å–æ¶ˆ')</code></p>
<h5 id="ä¾‹å­"><strong>ä¾‹å­</strong></h5>
<pre><code class="language-javascript">import axios from 'axios'
var CancelToken = axios.CancelToken;
var source = CancelToken.source();

var HTTP = axios.create({
  baseURL: 'url',
  timeout: 1000,
  cancelToken: source.token
})


HTTP.post(&quot;url&quot;)
  .then((response) =&gt; {
    console.log(response)
  })
  .catch((error) =&gt; {
    if (axios.isCancel(error)) {
      console.log(error.message);
    } else {
      console.log(error)
    }
  })

source.cancel('å–æ¶ˆ')

</code></pre>
<hr>
<h3 id="æ‹¦æˆªå™¨">æ‹¦æˆªå™¨</h3>
<p>åœ¨è¯·æ±‚æˆ–å“åº”è¢« then æˆ– catch å¤„ç†å‰æ‹¦æˆªå®ƒä»¬</p>
<pre><code class="language-javascript">// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨
axios.interceptors.request.use(function (config) {
    // åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ
    return config;
  }, function (error) {
    // å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ
    return Promise.reject(error);
  });

// æ·»åŠ å“åº”æ‹¦æˆªå™¨
axios.interceptors.response.use(function (response) {
    // å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ
    return response;
  }, function (error) {
    // å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ
    return Promise.reject(error);
  });
</code></pre>
<p><strong>å–æ¶ˆæ‹¦æˆª</strong></p>
<pre><code class="language-javascript">var myInterceptor = axios.interceptors.request.use(function () {/*...*/});
axios.interceptors.request.eject(myInterceptor);
</code></pre>
<hr>
<h3 id="åœ¨vueä¸­ä½¿ç”¨axios">åœ¨vueä¸­ä½¿ç”¨axios</h3>
<p><strong>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</strong><br>
å¼•å…¥åæ­£å¸¸ä½¿ç”¨<br>
<code>import axios from 'axios';</code></p>
<p><strong>æ³¨å†Œä¸ºå…¨å±€çš„å‡½æ•°</strong><br>
åœ¨å…¥å£æ–‡ä»¶main.jsæ–‡ä»¶ä¸­å¼•å…¥</p>
<pre><code class="language-javascript">import Axios from 'axios'
import VueAxios from 'vue-axios'

Vue.use(VueAxios,Axios)

//ä¹‹ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨
this.$http.get('url')
  .then((response) =&gt; {
    console.log(response)
  })
  .catch((error) =&gt; {
    console.log(error)
</code></pre>
]]></content>
    </entry>
</feed>